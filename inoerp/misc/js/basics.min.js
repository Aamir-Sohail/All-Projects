function animateCycle(){function e(){$("#animated_content > div:first").slideUp(1e3).next().delay(1e3).slideDown(1e3).end().appendTo("#animated_content")}var t=null;$("#animated_content > div:gt(0)").hide(),t=setInterval(e,5e3),$("#all_contents").on("click","#animated_block",function(){clearInterval(t)}),$("#all_contents").on("click",".stop_play",function(){clearInterval(t)})}function daysBetweenDates(e,t){return(Date.parse(e)-Date.parse(t))/864e5}function getFormDetails(e){return $.ajax({url:e,type:"get",data:{},beforeSend:function(){$("#overlay").css("display","block")},complete:function(){}}).done(function(e){var t=$(e).find("div#structure").html(),a=$(e).find("div#header_top_container #form_top_image").html();"undefined"==typeof a&&(a="");var n=$(e).find("div#comment_form").html();if(t){$("#structure").replaceWith('<div id="structure">'+t+"</div>"),$("#header_top_container").replaceWith('<div id="header_top_container"> <ul id="form_top_image" class="draggable">'+a+"</ul></div>"),$("#display_comment_form").append(n),$(e).find("div#document_history").html()&&$("#document_history").replaceWith('<div id="document_history">'+$(e).find("div#document_history").html()+"</div>");var i=$("#home_url").val();$(e).find("#js_files").find("li").each(function(){$.getScript($(this).html())}),$(e).find("ul#css_files").find("li").each(function(){var e=$(this).html();$("link[href='"+e+"']").length||$('<link href="'+e+'" rel="stylesheet">').appendTo("head")}),$.getScript(i+"includes/js/reload.js").done(function(){hideOverLay()})}else hideOverLay()}).fail(function(){alert("Form loading failed!"),hideOverLay()})}function applyFilter(){}function arrow_menu(){$("#header_top .menu li > ul").each(function(){var e=$(this).parent("li");e.addClass("parent").find("> a").append("<span class='arrow-down'></span>")}),$("#header_top .menu li > ul li > ul").each(function(){var e=$(this).parent("li");e.addClass("parent").find("> a span").removeClass("arrow-down").addClass("arrow-right")})}function getCommentForm(){$("#loading").show();var e=$("#content_id").val();$.ajax({url:"comment.php",data:{reference_table:"content",reference_id:e},type:"get"}).done(function(e){var t=$("#comment",$(e)).html();$("#new_comment").append(t),$("#loading").hide()}).fail(function(){alert("Comment content loading failed"),$("#loading").hide()})}function deleteComment(){var e=$("#home_url").val(),t=e+"form.php?class_name=comment";$("body").on("click",".delete_button",function(e){var a=$(this).val();$(".delete_button").addClass("show_loading_small"),$(".delete_button").prop("disabled",!0),e.preventDefault(),confirm("Do you really want to delete ?\n"+a)&&$.ajax({url:t,data:{delete_id:a,deleteType:"header","delete":"1"},type:"get",beforeSend:function(){$(".show_loading_small").show()},complete:function(){$(".show_loading_small").hide()}}).done(function(e){$(".error").prepend(e),$("#accordion").accordion({active:0}),$(".delete_button").removeClass("show_loading_small"),$(".delete_button").prop("disabled",!1)}).fail(function(e,t,a){alert("delete failed \n"+e+t+a),$(".delete_button").removeClass("show_loading_small"),$(".delete_button").prop("disabled",!1)})})}function deleteImage(){var e=$("#home_url").val(),t=e+"form.php?class_name=extn_image_reference";$("body").on("click",".delete_image",function(e){var a=$(this),n=$(this).data("extn_image_reference_id");$(".delete_button").addClass("show_loading_small"),$(".delete_button").prop("disabled",!0),e.preventDefault(),confirm("Do you really want to delete ?\n"+n)&&$.ajax({url:t,data:{delete_id:n,deleteType:"header","delete":"1"},type:"get",beforeSend:function(){$(".show_loading_small").show()},complete:function(){$(".show_loading_small").hide()}}).done(function(e){$(".error").prepend(e),$("#accordion").accordion({active:0}),$(".delete_button").removeClass("show_loading_small"),$(".delete_button").prop("disabled",!1),a.parent().remove()}).fail(function(e,t,a){alert("delete failed \n"+e+t+a),$(".delete_button").removeClass("show_loading_small"),$(".delete_button").prop("disabled",!1)})})}function updateComment(e,t){var a=$("#home_url").val(),n=a+"comment.php";return $("#loading").show(),$.ajax({url:n,data:{update:"1",comment_id:e},type:"get"}).done(function(e){var a=$(e).filter("div#commentForm").html(),n="#"+t;$("#content").find(n).find(".update-comment").empty().append(a),$("#loading").hide()}).fail(function(){alert("Comment update failed "),$("#loading").hide()})}function include_once(e){var t=$(document).find("script");if(t)for(var a=0;a<t.length;a++)if(t[a].src==e)return;var n=document.createElement("script");n.src=e,n.type="text/javascript",($(document).find("HEAD")[0]||document.body).appendChild(n)}function getFieldNames(e){var t={fieldClass:"table_fields",josnurl:"extensions/view/json_view.php"},a=$.extend({},t,e);$("#loading").show(),$.ajax({url:a.josnurl,data:{tableName:a.tableName,get_fieldName:1},type:"get"}).done(function(e){var t="."+a.parentClass.replace(/\s+/g,"."),n="."+a.fieldClass.replace(/\s+/g,"."),i=$(e).filter("div#json_filed_names").html();i.length>5&&$("#content").find(t).find(n).empty().append(i),$("#loading").hide()}).fail(function(){alert("table field loading failed"),$("#loading").hide()}),$(".table_fields").attr("disabled",!1)}function treeView(){$("ul.tree_view  ul").hide(),$("ul.tree_view > li").show(),$("ul.tree_view > li").has("ul").addClass("contentContainer fa fa-plus-square"),$(".tree_view").on("click",".contentContainer, .contentViewing",function(e){e.target===this&&$(this).hasClass("contentContainer")?($(this).find(">ul").show(),$(this).find(">ul").find(">li").show(),$(this).find(">ul").find(">li").has("ul").addClass("contentContainer fa-plus-square"),$(this).removeClass("contentContainer fa-plus-square").addClass("contentViewing fa fa-minus-square"),e.stopPropagation()):e.target===this&&($(this).find(">ul").hide(),$(this).find(">ul").find(">li").hide().removeClass("contentContainer fa-plus-square"),$(this).removeClass("contentViewing fa-minus-square").addClass("contentContainer fa-plus-square"),e.stopPropagation()),e.target===this&&$(this).parent().find(".contentContainer, .contentViewing").not(this).each(function(){$(this).find("ul").hide(),$(this).find("ul").find("li").hide().removeClass("contentContainer fa-minus-square"),$(this).removeClass("contentViewing fa-minus-square").addClass("contentContainer fa-plus-square")})}),$("body").on("click","#expand_all_nav",function(){$("#sys_menu_left_vertical").find(".tree_view").find(".contentContainer, .contentViewing").each(function(){$(this).find("ul").show(),$(this).find("ul").find("li").show(),$(this).find("ul").find("li").has("ul").addClass("contentContainer fa-plus-square"),$(this).removeClass("contentContainer fa-plus-square").addClass("contentViewing fa-minus-square")})}),$("body").on("click","#collapse_all_nav",function(){$("#sys_menu_left_vertical").find(".tree_view").find(".contentContainer, .contentViewing").each(function(){$(this).find("ul").hide(),$(this).find("ul").find("li").hide().removeClass("contentContainer fa-minus-square"),$(this).removeClass("contentViewing fa-minus-square").addClass("contentContainer fa-plus-square")})})}function treeView_simple(){$("ul.tree_view  ul").hide(),$("ul.tree_view > li").show(),$("ul.tree_view > li").has("ul").addClass("contentContainer"),$(".tree_view").on("click",".contentContainer, .contentViewing",function(e){$(this).hasClass("contentContainer")?($(this).find(">ul").show(),$(this).find(">ul").find(">li").show(),$(this).find(">ul").find(">li").has("ul").addClass("contentContainer"),$(this).removeClass("contentContainer").addClass("contentViewing"),e.stopPropagation()):($(this).find(">ul").hide(),$(this).find(">ul").find(">li").hide().removeClass("contentContainer"),$(this).removeClass("contentViewing").addClass("contentContainer"),e.stopPropagation())}),$(".expand_collapse_all").on("click",function(){$(this).parent().find(".tree_view").find(".contentContainer, .contentViewing").each(function(){$(this).hasClass("contentContainer")?($(this).find("ul").show(),$(this).find("ul").find("li").show(),$(this).find("ul").find("li").has("ul").addClass("contentContainer"),$(this).removeClass("contentContainer").addClass("contentViewing")):($(this).find("ul").hide(),$(this).find("ul").find("li").hide().removeClass("contentContainer"),$(this).removeClass("contentViewing").addClass("contentContainer"))})})}function toUpperCase(e){return e.toLowerCase().replace(/([^a-z])([a-z])(?=[a-z]{2})|^([a-z])/g,function(e,t,a,n){return"undefined"==typeof t?n.toUpperCase():t+a.toUpperCase()})}function recentVisitInAjax(){$("body #recent-visits").on("click","a",function(e){e.preventDefault(),getFormDetails($(this).attr("href"))})}function magnifier(){var e=0,t=0;$("body").on("mousemove",".magnify",function(a){if(e||t){var n=$(this).offset(),i=a.pageX-n.left,o=a.pageY-n.top;if(i<$(this).width()&&o<$(this).height()&&i>0&&o>0?$(".large").fadeIn(100):($(".large").fadeOut(100),$.magnifier().one()),$(".large").is(":visible")){var l=-1*Math.round(i/$(".small").width()*e-$(".large").width()/2),s=-1*Math.round(o/$(".small").height()*t-$(".large").height()/2),r=l+"px "+s+"px",d=i-$(".large").width()/2,c=o-$(".large").height()/2,_=$(this).find(".item.active").find(".img").prop("src");$(".large").css("background-image","url("+_+")"),$(".large").css({left:d,top:c,backgroundPosition:r})}}else{var _=$(this).find(".item.active").find(".img").prop("src"),u=new Image;u.src=_,e=u.width,t=u.height}}).on("mouseout",".magnify",function(){$(".large").hide()})}function setConetntRightLeft(){var e=$("#content_right_right").html();void 0===e||""===e?($("#content_right_left").width("100%"),$("#content_right_right").width("0%")):($("#content_right_left").width("84%"),$("#content").css("float:left"),$("#content_right_right").width("12%"))}function getBlocks(){var e=window.location.href,t=$("#home_url").val(),a=t+"includes/basics/json.basics.php",n=t+"files/images/small_loading.gif";$.ajax({url:a,data:{all_blocks:"1",pathname:e},type:"POST",timeout:5e4,beforeSend:function(){$("#content_left").html('<img src="'+n+'"> loading...')}}).done(function(e){var t=$("#header_top",$(e)).html(),a=$("#header_bottom",$(e)).html(),n=$("#navinagtion_top",$(e)).html(),i=$("#navinagtion_bottom",$(e)).html(),o=$("#content_top",$(e)).html(),l=$("#content_left_top",$(e)).html(),s=$("#content_right_top",$(e)).html(),r=$("#content_left_bottom",$(e)).html(),d=$("#content_right_bottom",$(e)).html(),c=$("#content_bottom",$(e)).html(),_=$("#content_left",$(e)).html(),u=$("#content_right_right",$(e)).html(),p=$("#footer_top",$(e)).html(),f=$("#footer_bottom",$(e)).html();$("#header_top").append(t),$("#header_bottom").append(a),$("#navinagtion_top").append(n),$("#navinagtion_bottom").append(i),$("#content_top").append(o),$("#content_left_top").append(l),$("#content_right_top").append(s),$("#content_left_bottom").append(r),$("#content_right_bottom").append(d),$("#content_bottom").append(c),$("#content_left").html(_),$("#content_right_right").append(u),$("#footer_top").append(p),$("#footer_bottom").append(f),"undefined"!=typeof t&&t.length>1&&$("#header_top_container").css("display","block")}).fail(function(){$("#content_left").html("")})}function update_summary_list(e,t){$("ul.summary_list").find("li").each(function(){var a=$(this).prop("class"),n=a.lastIndexOf("_")+1,i=+a.substring(n);i>e||t>=i?$(this).hide():$(this).show()})}function getUrlValues(e,t){var a="undefined"==typeof t?location.search:t;e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+e+"=([^&#]*)"),i=n.exec(a);return null==i?"":decodeURIComponent(i[1].replace(/\+/g," "))}function modepath(){var e="";return e+=null==getUrlValues("class_name")?"":"class_name="+getUrlValues("class_name")+"&",e+=null==getUrlValues("mode")?"":"mode="+getUrlValues("mode")+"&",null!=e&&(e="?"+e),e}function formModePath(e){var t="";return t+=null==getUrlValues("class_name",e)?"":"class_name="+getUrlValues("class_name",e)+"&",t+=null==getUrlValues("mode",e)?"":"mode="+getUrlValues("mode",e)+"&",null!=t&&(t="?"+t),t}function select_mandatory_fields_all(e,t){var a=0;if(t.length/2>=1){var n=t[a],i=t[a+1];$(e+" :input").not(n).on("focusin",function(){0===$(n).val().length&&(alert(i),$(n).focus())}),$(n).on("change",function(){0===$(n).val().length?(alert(i),$(n).focus()):t.length>=2&&(t.splice(0,2),t.length>=2&&select_mandatory_fields(t))})}}function select_mandatory_fields(e){select_mandatory_fields_all("#content",e)}function select_mandatory_fields_line(e){select_mandatory_fields_all("#form_line",e)}function remove_row(){$("body").on("click",".remove_row_img",function(){var e=$(this).closest("tr").attr("class"),t=e.replace(/\s+/g,".");$("tr."+t).closest("form").find("tbody").first().children().filter("tr").length>1?$("tr."+t).remove():$("tr."+t).closest("form").find("tbody.form_data_line_tbody").first().children().filter("tr").length>1?$("tr."+t).remove():$("tr."+t).closest("form").find("tbody.form_data_detail_tbody").first().children().filter("tr").length>1?$("tr."+t).remove():$("tr."+t).closest("form").find("tbody.form_data_detail_tbody_sn").first().children().filter("tr").length>1?$("tr."+t).remove():$("tr."+t).closest("form").find("tbody.form_data_detail_tbody_ln").first().children().filter("tr").length>1&&$("tr."+t).remove()})}function lineDetail_QuantityValidation(){$("#content").on("change, blur",".line_quantity",function(){var e=$(this).val(),t=0;$(this).closest("tr").find(".add_detail_values").find(".quantity").each(function(){t+=+$(this).val()}),t>0&&e!=t&&($(this).val(t),alert("Sum of detail quantity should be same as sum of line quantity\nChange detail quanityt if required"))}),$("#content").on("change, blur",".quantity",function(){var e=0;$(this).closest("tbody").find(".quantity").each(function(){e+=+$(this).val()}),$(this).closest(".add_detail_values").closest("tr").find(".line_quantity").val(e),$(".line_quantity").trigger("lineChange_t")})}function new_searchCriteria_onClick(e){$("#new_search_criteria_add").on("click",function(){$("#loading").show();var t=$(".new_search_criteria").val();$.ajax({url:e,data:{new_search_criteria:t},type:"get"}).done(function(e){var t=$(e).filter("div#new_search_criteria").html();$("ul.search_form").append(t),$("#loading").hide()}).fail(function(){$("#loading").hide()})})}function onClick_addDetailLine(e,t,a){t="undefined"!=typeof t?t:".add_row_detail_img",a="undefined"!=typeof a?a:"tabsDetail";var n=1,i=1;$("#content").off("click",t).on("click",t,function(){e=$(this).closest(".tabContainer").find(".tabContent").length;var t="."+$(this).closest("tr").attr("class").replace(/\s+/g,"."),o=t.replace(/tr\./g,"");o=o.replace(/\./g,"");var l="tbody."+$(this).closest("tbody").attr("class").replace(/\s+/g,".");$(this).closest("tbody").find(".detail_seq_number").last().val()?n=+$(this).closest("tbody").find(".detail_seq_number").last().val():n++;var s=n+1;$(this).closest("tbody").find(".detail_number").last().val()?i=+$(this).closest("tbody").find(".detail_number").last().val():i++;var r=i+1,d=$(this).closest(".class_detail_form").closest("tr").attr("class"),d="."+d;if(e>1){var c=$("tr[class*='"+o+"']").first().closest(".tabContent").attr("id"),_=c.split("-"),u=_[2],p=_[1],f=1;do $("#"+a+"-"+p+"-"+u).find(t).clone().attr("class","new_object"+detailObjectCount).appendTo($(d+" #"+a+"-"+p+"-"+u+" "+l)),p++,f++;while(e>=f)}else $(t+":first").clone().attr("class","new_object"+detailObjectCount).appendTo($(d+" "+l));$("tr.new_object"+detailObjectCount).find("td input[type=text]").not(".copyValue").each(function(){$(this).val("")}),$("tr.new_object"+detailObjectCount).find("td input[type=number]").not(".copyValue").each(function(){$(this).val("")}),$("tr.new_object"+detailObjectCount).find("td select").not(".copyValue").each(function(){$(this).val("")}),$(".new_object"+detailObjectCount).find(".detail_seq_number").val(s),$(".new_object"+detailObjectCount).find(".detail_number").val(r),$(".new_object"+detailObjectCount).find(".date").each(function(){$(this).attr("id","date"+dateCount),dateCount++}),detailObjectCount++})}function onClick_add_new_row(e,t,a,n){return $("body table").on("click",".add_row_img",function(){var i=new add_new_rowMain;i.trClass=e,i.tbodyClass=t,i.noOfTabs=a,i.removeDefault=!0,i.divClassToBeCopied=n,i.add_new_row()}).one(),1}function addOrShow_lineDetails(e){var t=0;$(".form_data_detail_tbody").find(".detail_seq_number").last().val()&&(t=$(".form_data_detail_tbody").find(".detail_seq_number").last().val());var a=+t+1;$("body").on("click","table.form_line_data_table .add_detail_values_img",function(){var t="#"+$(this).closest(".tabContent").attr("id"),n="."+$(this).closest("td").attr("class").replace(/tr\./g,""),i=$(this).closest("td").find(".form_detail_data_fs").length;if(i>0)$(this).closest("td").find(".form_detail_data_fs").toggle();else{var o=1,l=$("#content").find(t).find(n).find(".class_detail_form").first(),s=l.clone(),r="."+$(s).find("tbody").find("tr").first().attr("class").replace(/tr\./g,"");s.find("tr").not(":first-child").not(r).remove(),$(s).find("tbody tr").attr("class","new_object"+detailObjectRowCount),s.find("input").not(".hidden").each(function(){$(this).val("")}),s.appendTo($(this).closest("td")),$(this).closest("td").find("li.tabLink").each(function(){var e=$(this).find("a[href]").attr("href"),t=e.lastIndexOf("-"),a=e.substring(0,t),n=a+"-"+objectDetailTabCount;$(this).find("a[href]").attr("href",n)}),$(this).closest("td").find(".tabContent").each(function(){var e=$(this).attr("id"),t=e.lastIndexOf("-"),a=e.substring(0,t),n=a+"-"+objectDetailTabCount;$(this).attr("id",n)}),$(".tabsDetail").tabs(),$(this).closest("td").find(".form_detail_data_fs").toggle(),$(this).closest("td").find(".detail_number:first").val(o),$(this).closest("td").find(".detail_seq_number").val(a)}objectDetailTabCount++,detailObjectRowCount++,"function"==typeof e&&e()})}function deleteLine(e,t,a){switch(a){case"detail":var n="detail";break;case"line":var n="line";break;case"line2":var n="line2";break;case"header":var n="header";break;case"default":var n="header"}$.ajax({url:e,data:{"delete":"1",delete_id:t,deleteType:n},type:"get",beforeSend:function(){$(".show_loading_small").show()},complete:function(){$(".show_loading_small").hide()}}).done(function(e){$(".error").append(e),$("#delete_button").removeClass("show_loading_small"),$("#delete_button").prop("disabled",!1)}).fail(function(e,t,a){alert("delete failed \n"+e+t+a),$("#delete_button").removeClass("show_loading_small"),$("#delete_button").prop("disabled",!1)})}function deleteHeader(e,t){$("#delete_button").click(function(a){$("#delete_button").addClass("show_loading_small"),$("#delete_button").prop("disabled",!0),a.preventDefault(),confirm("Do you really want to delete ?\n"+t)&&$.ajax({url:e,data:{delete_id:t,deleteType:"header","delete":"1"},type:"get",beforeSend:function(){$(".show_loading_small").show()},complete:function(){$(".show_loading_small").hide()}}).done(function(e){$(".error").append(e),$("#delete_button").removeClass("show_loading_small"),$("#delete_button").prop("disabled",!1)}).fail(function(e,t,a){alert("delete failed \n"+e+t+a),$("#delete_button").removeClass("show_loading_small"),$("#delete_button").prop("disabled",!1)})})}function deleteReferences(e){var t={deleteType:"header",json_url:"form.php?class_name=extn_contact_reference"},a=$.extend({},t,e);$("#content").on("click",".delete_ref",function(){var e=$(this).data("delete_id");confirm("Do you really want to delete ?\n"+e)&&$.ajax({url:a.json_url,data:{delete_id:e,deleteType:a.deleteType,"delete":"1"},type:"get",beforeSend:function(){$(".show_loading_small").show()},complete:function(){$(".show_loading_small").hide()}}).done(function(e){$(".error").append(e),$("#delete_button").removeClass("show_loading_small"),$("#delete_button").prop("disabled",!1)}).fail(function(e,t,a){alert("delete failed \n"+e+t+a),$("#delete_button").removeClass("show_loading_small"),$("#delete_button").prop("disabled",!1)})})}function deleteData(e){$("#delete_button").click(function(t){if($("#delete_button").addClass("show_loading_small"),$("#delete_button").prop("disabled",!0),t.preventDefault(),$('input[name="detail_id_cb"]:checked').each(function(){var t=$(this).val();confirm("Are you sure?\nDetail Id #"+t)&&deleteLine(e,t,"detail")}),$('input[name="line_id_cb"]:checked').each(function(){var t=$(this).val();if(confirm("Are you sure?\nLine Id #"+t)){if($(this).closest("tbody").hasClass("form_data_line_tbody2"))var a="line2";else var a="line";deleteLine(e,t,a)}}),!$('input[name="line_id_cb"]').val()){var a=$("ul#js_saving_data").find(".primary_column_id").data("primary_column_id"),n="#"+a,i=$(n).val();confirm("Are you sure?\nHeader Id #"+i)&&deleteLine(e,i,"header")}})}function deleteFile(e,t){$(".show_loading_small").show(),$.ajax({url:e,data:{"delete":"1",file_reference_id:t},type:"get",beforeSend:function(){$(".show_loading_small").show()},complete:function(){$(".show_loading_small").hide()}}).done(function(e){var t=$(e).filter("div#json_delete_file").html();$(".error").append(t),$(".show_loading_small").hide()}).fail(function(){alert("File delete failed"),$("#loading").hide()})}function getAttachmentForm(e,t){$("#loading").show(),$.ajax({url:t,type:"get",beforeSend:function(){$(".show_loading_small").show()},complete:function(){$(".show_loading_small").hide()}}).done(function(t){var a=$("#add_attachments",$(t)).html();$(e).append(a),$("#loading").hide(),$("li#loading").hide()}).fail(function(){alert("Attachment loading failed"),$("#loading").hide()})}function get_attachment_form(e){$("body").on("click",".attachment_button",function(){var t=$(this).closest("div").attr("id");divId="#"+t,getAttachmentForm(divId,e)})}function getExchangeRate(e){var t={json_url:"modules/gl/currency_conversion/json_currency_conversion.php",rate_type:$("#exchange_rate_type").val(),to_currency:$("#currency").val(),from_currency:$("#document_currency").val()?$("#document_currency").val():$("#doc_currency").val()},a=$.extend({},t,e);return $.ajax({url:a.json_url,type:"get",dataType:"json",data:{rate_type:a.rate_type,from_currency:a.from_currency,to_currency:a.to_currency,find_exchange_rate:1},success:function(e){e&&$.each(e,function(e,t){switch(e){case"rate":if(t&&"false"!=t){var a=(+t).toFixed(7);$("#exchange_rate").val(a)}else $("#exchange_rate").val("")}})},complete:function(){$(".show_loading_small").hide()},beforeSend:function(){$(".show_loading_small").show()},error:function(e,t,a){alert("Request "+e+" has errored with "+t+" : "+a)}})}function getSupplierDetails(e,t,a,n){return a="undefined"!=typeof a?a:$("#supplier_id").val(),$(".show_loading_small").show(),$.ajax({url:e,data:{supplier_id:a,org_id:t,find_supplier_details:1},type:"get",beforeSend:function(){$(".show_loading_small").show()},complete:function(){$(".show_loading_small").hide()}}).done(function(e){$.each(e,function(e,t){switch(e){case"supplier_site_id":"undefined"!=typeof n?$("#content").find(n).find(".supplier_site_id").replaceWith(t):$("#supplier_site_id").replaceWith(t);break;case"payment_term_id":case"site_address_id":var a="."+e;$("#content").find(a).val(t)}}),$(".show_loading_small").hide()}).fail(function(){alert("Supplier Site Loading failed"),$(".show_loading_small").hide()}).always(function(){$(".show_loading_small").hide()})}function get_supplier_detail_for_bu(e){var t="undefined"==typeof e?!1:!0;if($("#bu_org_id").val())var a=$("#bu_org_id").val();else var a=null;$("#supplier_id, #supplier_name, #supplier_number").data("last","").on("blur",function(){if(!t&&!$("#bu_org_id").val())return void alert(select_bu_first);var e=$(this).data("last"),n=$(this).val();""!==n&&n!==e&&getSupplierDetails("modules/ap/supplier/json_supplier.php",a),$("#supplier_id, #supplier_name, #supplier_number").each(function(){var e=$(this).val();$(this).data("last",e)})})}function getSupplierSiteDetails(e,t){$(".show_loading_small").show(),$.ajax({url:e,data:{supplier_site_id:t,find_site_details:1},type:"get",beforeSend:function(){$(".show_loading_small").show()},complete:function(){$(".show_loading_small").hide()}}).done(function(e){$.each(e,function(e,t){switch(e){case"currency":$("#doc_currency").val(t);break;case"payment_term_id":var a="#"+e;$("#content").find(a).val(t)}}),$(".show_loading_small").hide()}).fail(function(){alert("Supplier Site Loading failed"),$(".show_loading_small").hide()}),$(".form_table .from_subinventory_id").attr("disabled",!1)}function getCustomerDetails(e,t){$(".show_loading_small").show();var a=$("#ar_customer_id").val();return $.ajax({url:e,data:{ar_customer_id:a,org_id:t,find_all_sites:1,get_customer_details:1},type:"get",beforeSend:function(){$(".show_loading_small").show()},complete:function(){$(".show_loading_small").hide()},success:function(e){if($(e).find("div#json_customerSites_find_all").length<1)return $(".show_loading_small").hide(),!1;var t=$(e).find("div#json_customerSites_find_all").html(),a=$(e).find("div#receivable_ac_id").html(),n=$(e).find("#customer_header_level_attachement").html(),i=$(e).filter(".errorMsg").html();t.length>5&&$("#ar_customer_site_id").replaceWith(t),n&&$("#customer_header_level_attachement").replaceWith(n),a&&$("#receivable_ac_id").val(a),void 0!==i&&$(".error").append(i),$(".show_loading_small").hide(),$(".ship_to_id").getAddressDetails({address_id:$("#ship_to_id").val()}),$(".bill_to_id").getAddressDetails({address_id:$("#bill_to_id").val()})},error:function(e,t,a){alert("Request "+e+" has errored with "+t+" : "+a)}})}function get_customer_detail_for_bu(e){var t="undefined"==typeof e?!1:!0;if($("#bu_org_id").val())var a=$("#bu_org_id").val();else var a=null;$("#ar_customer_id, #customer_name, #customer_number").data("last","").on("blur",function(){if(!t&&!$("#bu_org_id").val())return void alert(select_bu_first);var e=$(this).data("last"),n=$(this).val();""!==n&&n!==e&&getCustomerDetails("modules/ar/customer/json_customer.php",a),$("#ar_customer_id, #customer_name, #customer_number").each(function(){var e=$(this).val();$(this).data("last",e)})})}function getCustomerSiteDetails(e,t){return $(".show_loading_small").show(),$.ajax({url:e,data:{ar_customer_site_id:t,find_site_details:1},type:"get",beforeSend:function(){$(".show_loading_small").show()},complete:function(){$(".show_loading_small").hide()},success:function(e){$.each(e,function(e,t){switch(e){case"payment_term_id":case"ship_to_id":case"bill_to_id":var a="."+e;$("#content").find(a).val(t);break;case"currency":$("#content").find(".doc_currency").val(t)}}),$(".show_loading_small").hide(),$(".ship_to_id").getAddressDetails({address_id:$("#ship_to_id").val()}),$(".bill_to_id").getAddressDetails({address_id:$("#bill_to_id").val()})},error:function(e,t,a){alert("Request "+e+" has errored with "+t+" : "+a)}})}function getSubInventory(e){var t={json_url:"modules/inv/subinventory/json_subinventory.php",org_id:$("#org_id").val(),subinventory_class:".subinventory_id"},a=$.extend({},t,e);return $("#loading").show(),$.ajax({url:a.json_url,data:{org_id:a.org_id,find_all_subinventory:1},type:"get",beforeSend:function(){$(".show_loading_small").show()},complete:function(){$(".show_loading_small").hide()}}).done(function(e){var t=$(e).filter("div#json_subinventory_find_all").html();a.rowClass?$("#content").find(a.rowClass_d).find(a.subinventory_class).empty().append(t):$("#content").find(a.subinventory_class).empty().append(t)}).fail(function(){alert(a.json_url)}).always(function(){$("#loading").hide()})}function getLocator(e,t,a,n){$("#loading").show(),$.ajax({url:e,data:{subinventory_id:t,find_all_locator:1},type:"get",beforeSend:function(){$(".show_loading_small").show()},complete:function(){$(".show_loading_small").hide()}}).done(function(e){var t=$(e).filter("div#json_locator_find_all").html();"from_subinventory_id"==a&&($(n+" .from_locator_id").find("option").remove(),$(n+" .from_locator_id").empty().append(t)),"to_subinventory_id"==a&&($(n+" .to_locator_id").find("option").remove(),$(n+" .to_locator_id").empty().append(t)),"subinventory"==a&&($(n).find(".locator_id").find("option").remove(),$(n).find(".locator_id").empty().append(t)),"oneSubinventory"==a&&($("#content").find(".locator_id").find("option").remove(),$("#content").find(".locator_id").empty().append(t)),$("#loading").hide()}).fail(function(){alert("Locator name loading failed"),$("#loading").hide()}),$(".form_table .from_locator_id").attr("disabled",!1)}function getAllInventoryAccounts(e,t,a){$(".show_loading_small").show(),$.ajax({url:e,data:{ship_to_inventory:t,find_account_details:1},type:"get",beforeSend:function(){$(".show_loading_small").show()},complete:function(){$(".show_loading_small").hide()}}).done(function(e){var t=($(e).filter("div#json_inventory_ac_all").html(),$(e).find("div#json_ap_accrual_ac_id").html()),n=$(e).find("div#json_ap_accrual_ac_id").data("ac_id"),i=$(e).find("div#json_material_ac_id").html(),o=$(e).find("div#json_material_ac_id").data("ac_id"),l=$(e).find("div#json_inv_ppv_ac_id").html(),s=$(e).find("div#json_inv_ppv_ac_id").data("ac_id");$(a).closest(".tabContainer").find(a).find(".combination.charge_ac_id").val(i),$(a).closest(".tabContainer").find(a).find(".combination.accrual_ac_id").val(t),$(a).closest(".tabContainer").find(a).find(".combination.ppv_ac_id").val(l),$(a).closest(".tabContainer").find(a).find(".coa_combination_id.charge_ac_id").val(o),$(a).closest(".tabContainer").find(a).find(".coa_combination_id.accrual_ac_id").val(n),$(a).closest(".tabContainer").find(a).find(".coa_combination_id.ppv_ac_id").val(s)}).fail(function(){alert("Supplier Site Loading failed")}),$(".form_table .from_subinventory_id").attr("disabled",!1)}function getWipAccountingGroup(e,t){$("#loading").show(),$.ajax({url:e,data:{org_id:t,find_all_accounting_group:1},type:"get",beforeSend:function(){$(".show_loading_small").show()},complete:function(){$(".show_loading_small").hide()}}).done(function(e){var t=$(e).filter("div#json_accounting_group_find_all").html();return $(".wip_accounting_group_id").empty().append(t),t}).fail(function(){alert("Accounting Group Loading Failed!!!")}).always(function(){$("#loading").hide()}),$(".form_table .from_subinventory_id").attr("disabled",!1)}function getTaxCodes(e,t,a,n){$("#loading").show(),$.ajax({url:e,data:{org_id:t,in_out_tax:a,find_all_tax:1},type:"get",beforeSend:function(){$(".show_loading_small").show()},complete:function(){$(".show_loading_small").hide()}}).done(function(e){var t=$(e).filter("div#json_tax_code_find_all").html();return"IN"===a?n?$("#content").find(n).find(".input_tax").empty().append(t):$(".input_tax").empty().append(t):"OUT"===a&&(n?$("#content").find(n).find(".output_tax").empty().append(t):$(".output_tax").empty().append(t)),t}).fail(function(){}).always(function(){$("#loading").hide()})}function getDocumentTypeDetails(e,t){t="undefined"!=typeof t?t:"modules/sd/document_type/json_document_type.php",e="undefined"!=typeof e?e:"1",$.ajax({url:t,type:"get",dataType:"json",data:{sd_document_type_id:e,find_document_detail:1},success:function(e){$.each(e,function(e,t){switch(e){case"price_list_header_id":case"destination_type":case"supply_source":var a="."+e;$("#content").find(a).val(t)}})},complete:function(){$(".show_loading_small").hide()},beforeSend:function(){$(".show_loading_small").show()},error:function(e,t,a){alert("Request "+e+" has errored with "+t+" : "+a)}})}function getPriceDetails(e){var t=new Date,a=t.getMonth()+1,n=t.getDate(),i=t.getFullYear()+"-"+(10>a?"0":"")+a+"-"+(10>n?"0":"")+n,o={json_url:"modules/mdm/price_list/json_price_list.php",price_list_header_id:$("#price_list_header_id").val(),price_date:i},l=$.extend({},o,e);return $.ajax({url:l.json_url,type:"get",dataType:"json",data:{price_list_header_id:l.price_list_header_id,find_price:1,price_date:l.price_date,item_id_m:l.item_id_m},success:function(e){e?$.each(e,function(e,t){switch(e){case"unit_price":var a="."+e;$("#content").find(l.rowClass).find(a).val(t)}}):$("#content").find(l.rowClass).find(".unit_price").val("")},complete:function(){$(".show_loading_small").hide()},beforeSend:function(){$(".show_loading_small").show()
},error:function(e,t,a){alert("Request "+e+" has errored with "+t+" : "+a)}})}function getBUDetails(e,t){t="undefined"!=typeof t?t:"modules/org/business/json_bu.php",$.ajax({url:t,type:"get",dataType:"json",data:{bu_org_id:e,find_bu_details:1},success:function(e){$.each(e,function(e,t){switch(e){case"ledger_id":var a="."+e;$("#content").find(a).val(t);break;case"currency":var a="."+e;$("#content").find(a).val(t),$("#content").find(".document_currency").val(t),$("#content").find(".doc_currency").val(t);break;case"period_name_stmt":$("#period_id").replaceWith(t);break;case"transaction_type":$("#transaction_type").replaceWith(t);break;case"output_tax":$("#content").find(".output_tax").replaceWith(t)}})},complete:function(){$(".show_loading_small").hide()},beforeSend:function(){$(".show_loading_small").show()},error:function(e,t,a){alert("Request "+e+" has errored with "+t+" : "+a)}})}function getLedgerDetails(e,t){t="undefined"!=typeof t?t:"modules/gl/ledger/json_ledger.php",$.ajax({url:t,type:"get",dataType:"json",data:{gl_ledger_id:e,find_ledger_details:1},success:function(e){$.each(e,function(e,t){switch(e){case"currency":var a="."+e;$("#content").find(a).val(t),$("#content").find(".document_currency").val(t),$("#content").find(".doc_currency").val(t);break;case"period_name_stmt":$("#period_id").replaceWith(t);break;case"coa_id":$("#coa_id").val(t)}})},complete:function(){$(".show_loading_small").hide()},beforeSend:function(){$(".show_loading_small").show()},error:function(e,t,a){alert("Request "+e+" has errored with "+t+" : "+a)}})}function getARTransactionTypeDetails(e,t){t="undefined"!=typeof t?t:"modules/ar/transaction_type/json_transaction_type.php",$.ajax({url:t,type:"get",dataType:"json",data:{ar_transaction_type_id:e,find_ar_transaction_type_detail:1},success:function(e){$.each(e,function(e,t){switch(e){case"payment_term_id":case"transaction_class":var a="#"+e;$("#content").find(a).val(t);break;case"period_name_stmt":$("#period_id").replaceWith(t);break;case"transaction_type":$("#transaction_type").replaceWith(t);break;case"receivable_ac":$("#receivable_ac_id").val(t)}})},complete:function(){$(".show_loading_small").hide()},beforeSend:function(){$(".show_loading_small").show()},error:function(e,t,a){alert("Request "+e+" has errored with "+t+" : "+a)}})}function getOnhandDetails(e){var t={json_url:"modules/inv/onhand/json_onhand.php"},a=$.extend({},t,e);$.ajax({url:a.json_url,type:"get",dataType:"json",data:{item_id_m:a.item_id_m,org_id:a.org_id,subinventory_id:a.subinventory_id,locator_id:a.locator_id,find_onhand_details:1},success:function(e){e&&$.each(e,function(e,t){switch(e){case"onhand":var n="."+e,i=a.trClass;a.fieldClass&&(n+="."+a.fieldClass),$("#content").find(i).find(n).val(t)}})},complete:function(){$(".show_loading_small").hide()},beforeSend:function(){$(".show_loading_small").show()},error:function(e,t,a){alert("Request "+e+" has errored with "+t+" : "+a)}})}function get_ar_receipt_source_details(e,t){t="undefined"!=typeof t?t:"modules/ar/receipt_source/json_receipt_source.php",$.ajax({url:t,type:"get",dataType:"json",data:{bu_org_id:e,find_receipt_source_details:1},success:function(e){$.each(e,function(e,t){switch(e){case"receipt_source_stmt":$("#ar_receipt_source_id").replaceWith(t)}})},complete:function(){$(".show_loading_small").hide()},beforeSend:function(){$(".show_loading_small").show()},error:function(e,t,a){alert("Request "+e+" has errored with "+t+" : "+a)}})}function getBPAList(e){var t={json_url:"modules/po/json_po.php",bu_org_id:$("#bu_org_id").val(),field_name:"po_number",replacing_field:"po_number",trclass:!1},a=$.extend({},t,e);$.ajax({url:a.json_url,type:"get",dataType:"json",data:{bu_org_id:a.bu_org_id,supplier_site_id:a.supplier_site_id,item_id_m:a.item_id_m,find_bpa_list:1},success:function(e){if(e){if(a.trclass)var t='<select class="select '+a.field_name+'" name="'+a.field_name+'[]" style="max-width:95%;">';else var t='<select id="'+a.field_name+'" class="select '+a.field_name+'" name="'+a.field_name+'[]" style="max-width:95%;">';if($.each(e,function(e,a){t+='<option data-ref_po_line_id="'+a.po_line_id+'" value="'+a.po_header_id+'">'+a.po_number+" Line "+a.po_line_number+"</option>"}),t+="</select>",a.trclass){var n="."+a.trclass,i="."+a.replacing_field;$(n).find(i).replaceWith(t)}else{var o="#"+a.replacing_field;$(o).replaceWith(t)}}else{if(a.trclass)var t='<select class="select '+a.field_name+'" name="'+a.field_name+'[]" style="max-width:95%;">';else var t='<select id="'+a.field_name+'" class="select '+a.field_name+'"  name="'+a.field_name+'[]" style=max-width:95%;">';if(t+="<option></option>",t+="</select>",a.trclass){var n="."+a.trclass,i="."+a.replacing_field;$(n).find(i).replaceWith(t)}else{var o="#"+a.replacing_field;$(o).replaceWith(t)}}},complete:function(){$(".document_header_id").trigger("changeHeader"),$(".show_loading_small").hide()},beforeSend:function(){$(".show_loading_small").show()},error:function(e,t,a){alert("Request "+e+" has errored with "+t+" : "+a)}})}function getBPADetails(e){var t={json_url:"modules/po/json_po.php"},a=$.extend({},t,e);$.ajax({url:a.json_url,type:"get",dataType:"json",data:{po_header_id:a.po_header_id,find_bpa_details:1},success:function(e){e&&$.each(e,function(e,t){switch(e){case"po_header_id":case"po_type":case"po_status":break;default:var a="#"+e;$(a).val(t)}})},complete:function(){$(".show_loading_small").hide()},beforeSend:function(){$(".show_loading_small").show()},error:function(e,t,a){alert("Request "+e+" has errored with "+t+" : "+a)}})}function getBPALineDetails(e){var t={json_url:"modules/po/json_po.php"},a=$.extend({},t,e);$.ajax({url:a.json_url,type:"get",dataType:"json",data:{po_line_id:a.po_line_id,find_bpa_line_details:1},success:function(e){if(e){var t="."+a.trClass;$.each(e,function(e,a){switch(e){case"po_header_id":case"po_line_id":case"po_detail_id":break;case"ship_to_id":$("#form_line").find(t).find(".receving_org_id").val(a);break;default:var n="."+e;$("#form_line").find(t).find(n).val(a)}})}},complete:function(){$(".show_loading_small").hide()},beforeSend:function(){$(".show_loading_small").show()},error:function(e,t,a){alert("Request "+e+" has errored with "+t+" : "+a)}})}function getSerialNumber(e){var t={json_url:"modules/inv/serial/json_serial_number.php",org_id:$("#org_id").val(),status:$("#serial_status").val(),trclass:!1},a=$.extend({},t,e);return $.ajax({url:a.json_url,type:"get",dataType:"json",data:{current_org_id:a.org_id,current_subinventory_id:a.subinventory_id,current_locator_id:a.locator_id,status:a.status,item_id_m:a.item_id_m,find_serial_list:1},success:function(e){if(e){if(a.trclass)var t='<select class="select inv_serial_number_id" name="inv_serial_number_id[]" style="max-width:95%;">';else var t='<select id="inv_serial_number_id" class="select inv_serial_number_id" name="inv_serial_number_id[]" style="max-width:95%;">';if($.each(e,function(e,a){t+='<option data-status="'+a.status+'" value="'+a.inv_serial_number_id+'">'+a.serial_number+"</option>"}),t+="</select>",a.trclass){var n="."+a.trclass;$(n).find(".serial_number").replaceWith(t)}else $("#inv_serial_number_id").replaceWith(t)}else console.log(e)},complete:function(){$(".show_loading_small").hide()},beforeSend:function(){$(".show_loading_small").show()},error:function(e,t,a){alert("No valid serail number found \n"+e+" has errored with "+t+" : "+a)}})}function getCoaStructure(e){var t={json_url:"modules/gl/coa/json_coa.php",coa_structure_id:$("#coa_structure_id").val(),trclass:!1},a=$.extend({},t,e);return $.ajax({url:a.json_url,type:"get",dataType:"json",data:{coa_structure_id:a.coa_structure_id,find_coa_structure:1},success:function(e){if(e){var t,a=1;$.each(e,function(e,a){t+='<option data-description="'+a.description+'" value="'+a.option_line_code+'">'+a.option_line_value+"</option>"}),$("body").find(".coa_qualifier").each(function(){$(this).empty().append(t)}),$("#no_coa_structure_id").html(""),$("ul#segment_structure").empty(),$.each(e,function(){var e="field"+a+"[]",n="<li><label>Field #: "+a+"</label>";n+='<select class="select coa_segment fields" name="'+e+'" style="max-width:95%;">',n+=t,n+="</select>",n+="</li>",$("ul#segment_structure").append(n),a++})}},complete:function(){$(".show_loading_small").hide()},beforeSend:function(){$(".show_loading_small").show()},error:function(e,t,a){alert("Request "+e+" has errored with "+t+" : "+a)}})}function getlotNumber(e){var t={json_url:"modules/inv/lot/json_lot_number.php",org_id:$("#org_id").val(),trclass:!1},a=$.extend({},t,e);return $.ajax({url:a.json_url,type:"get",dataType:"json",data:{org_id:a.org_id,subinventory_id:a.subinventory_id,locator_id:a.locator_id,status:a.status,item_id_m:a.item_id_m,find_lot_list:1},success:function(e){if(e){if(a.trclass)var t='<select class="select inv_lot_number_id" name="inv_lot_number_id[]" style="max-width:95%;">';else var t='<select id="inv_lot_number_id" class="select inv_lot_number_id" name="inv_lot_number_id[]" style="max-width:95%;">';if($.each(e,function(e,a){t+='<option data-status="'+a.status+'" value="'+a.inv_lot_number_id+'">'+a.lot_number+"</option>"}),t+="</select>",a.trclass){var n="."+a.trclass;$(n).find(".lot_number").replaceWith(t)}else $("#lot_number").replaceWith(t)}},complete:function(){$(".show_loading_small").hide()},beforeSend:function(){$(".show_loading_small").show()},error:function(e,t,a){alert("Request "+e+" has errored with "+t+" : "+a)}})}function beforeSave_serial(){var e=1;return $(".add_detail_values").each(function(){if($(this).children(".serial_generation").val()){var t="."+$(this).closest("tr").attr("class").replace(/\s+/g,"."),a=+$("#content").find(t).find(".quantity").val(),n=0;if($(this).closest("td").find(".inv_serial_number_id").each(function(){$(this).val()&&n++}),n!=a){var i=0;if($(this).closest("td").find(".serial_number").each(function(){$(this).val()&&i++}),i!=a)return alert("Can't save data as no of serial numbers doesnt match quantity"),e=-10,!1}}}),e}function getSerialInStore(e){e="undefined"!=typeof e?e:$("#org_id").val(),$("#content").on("blur",".item_number",function(){var t=$(this).closest("tr").attr("class").replace(/\s+/g,"."),a="."+t,n=$("#content").find(a).find(".serial_generation").val();if(!n){var i='<input class="textfield serial_number" type="text" size="25" readonly name="serial_number[]" >';return $("#content").find(a).find(".inv_serial_number_id").replaceWith(i),$("#content").find(a).find(".serial_number").replaceWith(i),void alert("Item is not serial controlled.\nNo serial informatio 'll be saved in database")}var o=$("#content").find(a).find(".item_id_m").val();o&&getSerialNumber({org_id:e,status:"IN_STORE",item_id_m:o,trclass:t,current_subinventory_id:$("#content").find(a).find(".from_subinventory_id").val(),current_locator_id:$("#content").find(a).find(".from_locator_id").val()})})}function getViewResult(e){var t={json_url:"extensions/view/json_view.php",display_field_id:"live_display_data",query_v:$("#query_v").val(),show_from_query:!0,display_type:$("#display_type").val(),no_of_grid_columns:$("#no_of_grid_columns").val(),update_result:!0},a=$.extend({},t,e);return $.ajax({url:a.json_url,type:"get",data:{query_v:a.query_v,find_result:1,class_name:a.class_name,view_id:a.view_id,pageno:a.pageno,per_page:a.per_page,show_from_query:a.show_from_query,display_type:a.display_type,no_of_grid_columns:a.no_of_grid_columns,filter_data:a.filterData,sort_data:a.sortData},success:function(e){if(e&&a.update_result){var t=$(e).filter("div#return_divId").html();$(".live_display_data").empty().append(t),$.getScript("includes/js/reload.js")}},complete:function(){$(".show_loading_small").hide()},beforeSend:function(){$(".show_loading_small").show()},error:function(e,t,a){alert("Request "+e+" has errored with "+t+" : "+a)}})}function getViewResultByViewId(e){var t={json_url:"extensions/view/json_view.php"},a=$.extend({},t,e);return $.ajax({url:a.json_url,type:"get",data:{viewResultById:!0,view_id:a.view_id},success:function(e){if(e&&a.update_divId_h){var t=$(e).filter("div#return_divId").html();$(a.update_divId_h).empty().append(t),$.getScript("includes/js/reload.js")}},complete:function(){$(".show_loading_small").hide()},beforeSend:function(){$(".show_loading_small").show()},error:function(e,t,a){alert("Request "+e+" has errored with "+t+" : "+a)}})}function viewResultWith_pagination(){$("body").on("click",".ajax_view.pagination .page_nos a",function(e){e.preventDefault();var t=$(this).attr("href"),a=getUrlValues("class_name",t),n=getUrlValues("view_id",t),i=getUrlValues("pageno",t),o=getUrlValues("per_page",t),l=$(this).closest("div.view_content").find(".view_filters").find(".filtered_field:input").serializeArray(),s=$(this).closest("div.view_content").find(".view_filters").find(".sorted_field:input").serializeArray();getViewResult({class_name:a,view_id:n,pageno:i,per_page:o,show_from_query:!1,filterData:l,sortData:s})}),$("body").on("click",".ajax_view.pagination .content_per_page",function(e){e.preventDefault();var t=$(this).closest(".pagination").find("a").first().attr("href"),a=getUrlValues("class_name",t),n=getUrlValues("view_id",t),i=getUrlValues("pageno",t),o=$(this).closest(".noOfcontents").find(".per_page").val(),l=$(this).closest("div.view_content").find(".view_filters").find(".filtered_field:input").serializeArray(),s=$(this).closest("div.view_content").find(".view_filters").find(".sorted_field:input").serializeArray();getViewResult({class_name:a,view_id:n,pageno:i,per_page:o,show_from_query:!1,filterData:l,sortData:s})})}function getSearchResult(e){var t={json_url:"includes/json/json_search.php",className:$(".search.class_name").val(),searchParameters:$("#generic_search_form").find(":input").filter(function(){return!!this.value}).serializeArray(),pageno:1,per_page:0},a=$.extend({},t,e);$.ajax({url:a.json_url,type:"get",data:{class_name:a.className,search_parameters:a.searchParameters,pageno:a.pageno,per_page:a.per_page},beforeSend:function(){$("#overlay").css("display","block")},complete:function(){}}).done(function(e){var t=$(e).find("div#searchResult").html();$("#searchResult").empty().append(t),$.getScript("includes/js/reload.js").done(function(){$("#overlay").css("display","none"),$(".show_loading_small").hide()})}).fail(function(){alert("Search Failed"),$("#overlay").css("display","none")})}function getSelectResult(e){var t={json_url:"includes/json/json_select.php",className:$(".search.class_name").val(),searchParameters:$("#select_page").find(":input").filter(function(){return!!this.value}).serializeArray(),pageno:1,per_page:0},a=$.extend({},t,e);$.ajax({url:a.json_url,type:"get",data:{class_name:a.className,search_parameters:a.searchParameters,pageno:a.pageno,per_page:a.per_page},beforeSend:function(){$("#overlay").css("display","block")},complete:function(){}}).done(function(e){var t=$(e).find("div#selectResult").html();$("#selectResult").empty().append(t),$.getScript("includes/js/reload.js").done(function(){$("#overlay").css("display","none"),$(".show_loading_small").hide()})}).fail(function(){alert("Search Failed"),$("#overlay").css("display","none")})}function getSiteSearchResult(e){var t={json_url:"includes/json/json_site_search.php",searchParameters:$("#site_search").find(":input").serializeArray(),pageno:1,per_page:0},a=$.extend({},t,e);$.ajax({url:a.json_url,type:"get",data:{search_parameters:a.searchParameters,pageno:a.pageno,per_page:a.per_page},beforeSend:function(){$(".show_loading_small").show()},complete:function(){$(".show_loading_small").hide()}}).done(function(e){var t=$(e).filter("#json_search_result").html();$("#structure").replaceWith('<div id="structure">'+t+"</div>")}).fail(function(){alert("Search Failed")})}function getMultiSelectResult(e){var t={json_url:"includes/json/json_multi_select.php",className:$(".search.class_name").val(),actionclassName:$(".action_class_name").val(),action:$(".action").val(),searchParameters:$("#generic_search_form").find(":input").serializeArray(),pageno:1,per_page:0},a=$.extend({},t,e);return $.ajax({url:a.json_url,type:"get",data:{search_class_name:a.className,action_class_name:a.actionclassName,action:a.action,search_parameters:a.searchParameters,pageno:a.pageno,per_page:a.per_page},beforeSend:function(){$(".show_loading_small").show()},complete:function(){$(".show_loading_small").hide()}}).done(function(e){var t=$(e).filter("div#header_top_container").html(),a=$(e).find("div#searchResult").html();a&&$("#header_top_container").replaceWith('<div id="header_top_container">'+t+"</div>"),$("#searchResult").empty().append(a),$.getScript("includes/js/reload.js"),$.getScript("includes/js/multi_select.js"),$(e).find("#js_files").find("li").each(function(){$.getScript($(this).html())}),$(e).find("ul#css_files").find("li").each(function(){var e=$(this).html();$("link[href='"+e+"']").length||$('<link href="'+e+'" rel="stylesheet">').appendTo("head")}),$(".hideDiv_input").trigger("click")}).fail(function(){alert("Search Failed")})}function getSvgImage(e){var t={json_url:"includes/json/json_svgimage.php",display_field_class:"svg_image",query_v:$("#query_v").val(),chart_type:$("#chart_type").val(),chart_label:$("#chart_label").val(),chart_value:$("#chart_value").val(),chart_name:$("#view_name").val(),chart_width:$("#chart_width").val(),chart_height:$("#chart_height").val(),chart_legend:$("#chart_legend").val(),update_image:!0},a=$.extend({},t,e);return $.ajax({url:a.json_url,type:"get",datatype:"image/svg+xml",data:{query_v:a.query_v,find_result:1,class_name:a.class_name,view_id:a.view_id,chart_type:a.chart_type,chart_label:a.chart_label,chart_value:a.chart_value,chart_name:a.chart_name,chart_width:a.chart_width,chart_height:a.chart_height,chart_legend:a.chart_legend,filter_data:a.filterData,sort_data:a.sortData},success:function(e){e&&a.update_image&&$(".svg_image").empty().append(e)},complete:function(){$(".show_loading_small").hide()},beforeSend:function(){$(".show_loading_small").show()},error:function(e,t,a){alert("Request "+e+" has errored with "+t+" : "+a)}})}function getItemRevision(e){var t={json_url:"modules/inv/item/revision/json_item_revision.php",org_id:$("#org_id").val(),trclass:!1,show_date:!1},a=$.extend({},t,e);return a.item_id_m?$.ajax({url:a.json_url,type:"get",dataType:"json",data:{org_id:a.org_id,item_id_m:a.item_id_m,find_revision:1},success:function(e){if(e){if(a.trclass)var t='<select name="revision_name[]" class="from_array select revision_name">';else var t='<select id="revision_name" class="select revision_name medium" name="revision_name[]" style="max-width:95%;">';if($.each(e,function(e,n){t+=a.show_date?'<option data-effective_start_date="'+n.effective_start_date+'" value="'+n.revision_name+'">'+n.revision_name+" - "+n.effective_start_date+"</option>":'<option data-effective_start_date="'+n.effective_start_date+'" value="'+n.revision_name+'">'+n.revision_name+"</option>"}),t+="</select>",a.trclass){var n="."+a.trclass;$(n).find(".revision_name").replaceWith(t)}else $("#revision_name").replaceWith(t)}else if(a.trclass){var n="."+a.trclass;$(n).find(".revision_name").children().remove()}else $("#revision_name").children().remove()},complete:function(){$(".show_loading_small").hide()},beforeSend:function(){$(".show_loading_small").show()},error:function(e,t,a){alert("Request "+e+" has errored with "+t+" : "+a)}}):void 0}function getDBReportList(e){var t={json_url:"extensions/ino_user/dashboard/config/json_dbconfig.php",report_type:"block",update_data:!0},a=$.extend({},t,e);return $.ajax({url:a.json_url,type:"get",data:{report_type:a.report_type,find_report_list:1},success:function(e){if(e){var t=a.trClass,n="."+t.replace(/\s+/g,"."),i=$(e).filter("div#return_divId").html();alert(n+" : "+i),a.update_data&&$(n).find(".report_id").empty().append(i)}},complete:function(){$(".show_loading_small").hide()},beforeSend:function(){$(".show_loading_small").show()},error:function(e,t,a){alert("Request "+e+" has errored with "+t+" : "+a)}})}function printLabel(e){var t={json_url:"modules/bc/static_label/json_static_label.php",org_id:$("#org_id").val(),subinventory_id:$("#subinventory_id").val(),item_id:$("#item_id").val(),bc_static_label_id:$("#bc_static_label_id").val()},a=$.extend({},t,e);return $.ajax({url:a.json_url,type:"get",data:{org_id:a.org_id,subinventory_id:a.subinventory_id,locator_id:a.locator_id,status:a.status,item_id_m:a.item_id_m,print_label:1,bc_static_label_id:a.bc_static_label_id,print_parameters:a.print_parameters},success:function(e){if(e){var t=$(e).filter("div#ret_message").html();$(".error").append(t)}},complete:function(){$(".show_loading_small").hide()},beforeSend:function(){$(".show_loading_small").show()},error:function(e,t,a){alert("Request "+e+" has errored with "+t+" : "+a)}})}function show_dialog_box(){$("#dialog_box").dialog({dialogClass:"no-close",modal:!0,minWidth:600,title:"Action Message",buttons:[{text:"OK",click:function(){$(this).dialog("close")}}],closeOnEscape:!0,position:{my:"center center",at:"center bottom",of:"#structure "}})}function getPayrollSchedules(e){var t={min_length:3,hr_payroll_schedule_id:"hr_payroll_schedule_id",json_url:"modules/hr/payroll/json_payroll.php",hr_payrollId:$("#hr_payroll_id").val()},a=$.extend({},t,e);return $.ajax({url:a.json_url,type:"get",dataType:"json",data:{find_payroll_schedules:1,hr_payroll_id:a.hr_payrollId},success:function(e){if(e){if(a.trDivId)var t='<select class="select hr_payroll_schedule_id" name="hr_payroll_schedule_id[]" style="max-width:95%;">';else var t='<select id="hr_payroll_schedule_id" class="select hr_payroll_schedule_id" name="hr_payroll_schedule_id[]" style="max-width:95%;">';if($.each(e,function(e,a){t+='<option value="'+a.hr_payroll_schedule_id+'">'+a.scheduled_date+" : "+a.period_name+"</option>"}),t+="</select>",a.trDivId){var n="."+a.trDivId;$(n).replaceWith(t)}else $("#hr_payroll_schedule_id").replaceWith(t)}},complete:function(){$(".show_loading_small").hide()},beforeSend:function(){$(".show_loading_small").show()},error:function(e,t,a){alert("Request "+e+" has errored with "+t+" : "+a)}})}function enableLineForSaveAfterFieldChange(){$("#content").data("last","").on("blur",":input",function(){var e=$(this).data("last"),t=$(this).val();if("TD"===$(this).parent().prop("tagName")&&t&&""!==t&&t!==e){var a="."+$(this).closest("tr").prop("class").replace(/\s+/g,"."),n=$("#content").find(a).find('input[name="line_id_cb"],input[name="detail_id_cb"]');n&&($("#content").find(a).find('input[name="line_id_cb"],input[name="detail_id_cb"]').prop("checked",!0),$("#content").find('input[name="detail_id_cb"]:checked').each(function(){$(this).closest("td.add_detail_values").closest("tr").find('input[name="line_id_cb"]').prop("checked",!0)}))}})}function openNextGLPeriod(e){var t={json_url:"modules/gl/period/json_period.php",new_gl_calendar_id:$("#new_gl_calendar_id").val(),new_gl_calendar_name:$("#new_gl_calendar_id :selected").text(),ledger_id:$("#ledger_id").val()},a=$.extend({},t,e);return $.ajax({url:a.json_url,type:"get",data:{new_gl_calendar_id:a.new_gl_calendar_id,ledger_id:a.ledger_id,open_next_gl_period:1},success:function(e){e&&$(".error").append("<br>Period "+a.new_gl_calendar_name+" is opened<br>"+e)},complete:function(){$(".show_loading_small").hide()},beforeSend:function(){$(".show_loading_small").show()},error:function(e,t,a){alert("Request "+e+" has errored with "+t+" : "+a)}})}function getOpenPeriodsFromLedgerId(e){var t={json_url:"modules/gl/period/json_period.php",gl_ledger_id:$("#gl_ledger_id").val(),trclass:!1},a=$.extend({},t,e);return $.ajax({url:a.json_url,type:"get",dataType:"json",data:{gl_ledger_id:a.gl_ledger_id,find_open_periods:1},success:function(e){e&&$.each(e,function(e,t){switch(e){case"period_name_stmt":$("#gl_period_id").replaceWith(t)}})},complete:function(){$(".show_loading_small").hide()},beforeSend:function(){$(".show_loading_small").show()},error:function(e,t,a){alert("Request "+e+" has errored with "+t+" : "+a)}})}function save_posTerminalName(e){var t={json_url:"modules/pos/transaction/json_pos_transaction.php",terminal_name:$("#terminal_name").val()},a=$.extend({},t,e);return $.ajax({url:a.json_url,type:"get",data:{terminal_name:a.terminal_name,save_terminal_name:1},success:function(e){e&&$.each(e,function(e,t){switch(e){case"result":alert(t)}})},complete:function(){$(".show_loading_small").hide()},beforeSend:function(){$(".show_loading_small").show()},error:function(e,t,a){alert("Request "+e+" has errored with "+t+" : "+a)}})}function save_ratings(e){var t={json_url:"extensions/rating/json_rating.php"},a=$.extend({},t,e);return $.ajax({url:a.json_url,type:"get",data:{rating:a.rating,reference_table:a.reference_table,reference_id:a.reference_id,save_ratings:1},success:function(e){e&&$.each(e,function(e,t){switch(e){case"result":alert(t)}})},complete:function(){$(".show_loading_small").hide()},beforeSend:function(){$(".show_loading_small").show()},error:function(e,t,a){alert("Request "+e+" has errored with "+t+" : "+a)}})}function save_dataInSession(e){var t={json_url:"includes/json/json_session.php",openUrl:!1,over_write:!0},a=$.extend({},t,e);return $.ajax({url:a.json_url,type:"post",data:{data_name:a.data_name,data_value:a.data_value,save_dataInSession:1,over_write:a.over_write},success:function(){if(a.openUrl!==!1){var e="form.php?class_name=sd_pick_list_v&mode=2&window_type=popup";void window.open(e,"_blank","width=1200,height=800,TOOLBAR=no,MENUBAR=no,SCROLLBARS=yes,RESIZABLE=yes,LOCATION=no,DIRECTORIES=no,STATUS=no")}},complete:function(){$(".show_loading_small").hide()},beforeSend:function(){$(".show_loading_small").show()},error:function(e,t,a){alert("Request "+e+" has errored with "+t+" : "+a)}})}function refreshData(e){var t={json_url:"includes/json/json_refresh.php"},a=$.extend({},t,e);$.ajax({url:a.json_url,type:"get",dataType:"json",data:{data_type:a.data_type,refresh_data:1},success:function(e){e&&$.each(e,function(e,t){switch(e){case"string_data":var n=t;if(a.divId){var i="#"+a.divId;$("body").find(i).empty().append(n)}}})},complete:function(){$(".show_loading_small").hide()},beforeSend:function(){$(".show_loading_small").show()},error:function(e,t,a){alert("Request "+e+" has errored with "+t+" : "+a)}})}$("body").on("click","#comment_button",function(){getCommentForm()});var Mandatory_Fields="",detailObjectCount=2001,dateCount=3e4,objectDetailTabCount=2,detailObjectRowCount=600;$(document).ready(function(){var e=$("#home_url").val();$(".non_clickable").on("click",function(e){e.preventDefault()}),$("#loading").hide(),$(".show_loading_small").hide(),viewResultWith_pagination(),$(".select_popup").hide(),$("#content").on("focusin","input",function(){$("#content").find(".select_popup").hide(),$(this).parent().find(".select_popup").show()}),$("#display_comment_form").length>0&&($("#display_comment_form").html($("#commentForm_witoutjs").html()),$("#commentForm_witoutjs").html("")),$("body").on("click",".content_per_page",function(){var e=window.location.toString(),t=e.replace(/per_page=/g,"");t=t.replace(/&&/g,"&"),t=t.indexOf("?")>-1?t+"&per_page="+$(this).closest("div").find("select").val():t+"?per_page="+$(this).closest("div").find("select").val(),$(this).attr("href",t)}),enableLineForSaveAfterFieldChange();var t,a=$("#loading");a.hide().ajaxStart(function(){t&&clearTimeout(t),t=setTimeout(function(){a.show()},1e4)}).ajaxStop(function(){clearTimeout(t),a.hide()}),$("body").on("click","#selectResult_page .quick_select",function(){var e=!1;if("function"==typeof opener.setValFromSelectPage){var t=new opener.setValFromSelectPage;e=!0}var a=[],n=$(this).parent().prop("tagName");if("LI"===n)$(this).closest("ul").find("input").each(function(){e&&(t[$(this).data("field_name")]=$(this).prop("value"));var n={};n.field_name=$(this).data("field_name"),n.field_value=$(this).prop("value"),a.push(n)});else{var i=$(this).closest("tr").prop("class"),o="."+i.replace(/\s+/g,".");$(o).find("td").each(function(){e&&(t[$(this).data("field_name")]=$(this).text());var n={};n.field_name=$(this).data("field_name"),n.field_value=$(this).text(),a.push(n)})}if(null!==localStorage.getItem("close_field_class")){var l=localStorage.getItem("close_field_class"),s=window.opener.$(l).parent().prop("tagName");if("LI"===s)$(a).each(function(e,t){$(t).each(function(e,t){if("undefined"!==t.field_name){var a="."+t.field_name;null!==localStorage.getItem("set_value_for_one_field")?window.opener.$(l).parent().find(a).val(t.field_value):window.opener.$(l).closest(".tabContent").find(a).val(t.field_value)}})});else{var r="."+localStorage.getItem("row_class").replace(/\s+/g,".");$(a).each(function(e,t){$(t).each(function(e,t){if("undefined"!==t.field_name){var a="."+t.field_name;null!==localStorage.getItem("set_value_for_one_field")?window.opener.$(r).find(l).parent().find(a).val(t.field_value):window.opener.$(r).find(a).val(t.field_value)}})})}localStorage.removeItem("close_field_class")}else e&&(t.setVal(),opener.setPopUpValue&&opener.setPopUpValue(t));localStorage.removeItem("set_value_for_one_field"),localStorage.removeItem("field_class"),localStorage.removeItem("reset_link"),window.close(),null!==localStorage.getItem("auto_refresh_class")&&window.opener.$(localStorage.getItem("auto_refresh_class")).trigger("click")}),$("body").on("click","#selectResult_page .popover_quick_select",function(e){e.preventDefault();var t=$(this).data("select_field"),a="."+t,n=$(this).data("select_field_value");$("#erp_form_area").find(a).val(n);var i=$("ul#js_saving_data").find(".primary_column_id").data("primary_column_id"),o=i.trim(),l=t.trim();o==l?($("#big_popover").trigger("click"),$("a.show"+a).trigger("click")):$("#big_popover").trigger("click")}),$("body").on("click",".make-draggable",function(){$(this).closest("div").draggable()});var n=localStorage.getItem("reset_link");n&&$("#multi_select a#search_reset_btn").on("click",function(){$(this).attr("href",n)});var i=localStorage.getItem("reset_link_ofSelect");i&&$("#select_page a#search_reset_btn").on("click",function(){$(this).attr("href",i)}),$("body").on("click","#new_object_button",function(e){e.preventDefault(),$("#content").find(" :input").not("#attach_submit, .button, .search").val(""),$("#content").find(" :input").not("#attach_submit").prop("disabled",!1),$("#content").find(" :checkbox").prop("checked",!1)}),remove_row(),$(".select_account").inoAutoCompleteElement({json_url:"modules/gl/coa_combination/coa_search.php",primary_column1:"coa_id",set_value_for_one_field:!0}),$("body").on("blur",".select_account.account_combination",function(){$(this).val()||$(this).parent().find(":input").each(function(){$(this).val("")})});var o=new autoCompleteMain;o.json_url="modules/ap/supplier/json_supplier.php",o.primary_column1="bu_org_id",o.select_class="select_supplier_name",o.extra_elements=["supplier_id","supplier_number"],o.min_length=3,o.autoComplete(),$(".select_customer_name").inoAutoCompleteElement({json_url:"modules/ar/customer/json_customer.php",primary_column1:"bu_org_id"});var l=new autoCompleteMain;l.json_url="modules/inv/item/item_search.php",l.select_class="select_item_number",l.primary_column1="org_id",l.extra_elements=["item_id","item_id_m","item_description","uom_id","processing_lt","lot_generation","serial_generation","kit_cb"],l.min_length=2,l.autoComplete(),$(".select_item_number_all").inoAutoCompleteElement({json_url:"modules/inv/item/json_item.php",primary_column1:"org_id"});var l=new autoCompleteMain;l.json_url="modules/inv/item/item_search.php",l.select_class="select_item_number_allowedBOM",l.primary_column1="org_id",l.extra_elements=["item_id","item_id_m","item_description","uom_id","processing_lt","lot_generation","serial_generation"],l.min_length=2,l.options={bom_enabled_cb:"1"},l.autoComplete(),$("#form_line").on("blur",".textfield.select_item_number",function(){var e=$(this).parent().prop("tagName");if("TD"===e){var t="."+$(this).closest("tr").attr("class").replace(/\s+/g,".");$("#form_line").find(t).find(".serial_generation").val()&&$("#form_line").find(t).find(".serial_number").attr("required",!0).css("background-color","pink"),$("#form_line").find(t).find(".lot_generation").val()&&$("#form_line").find(t).find(".lot_number").attr("required",!0).css("background-color","pink")
}}),$("#content").on("click",".select_employee_name.select_popup",function(){var e=$(this).parent().prop("tagName");if("TD"===e){{var t=$(this).closest("tr").prop("class");$(this).closest("td").find(".select_employee_name").prop("class")}localStorage.setItem("row_class",t),localStorage.removeItem("li_divId",a)}else{var a=$(this).closest("li").find(".employee_name").prop("id");localStorage.setItem("li_divId",a),localStorage.removeItem("row_class")}var n="."+$(this).parent().find(":input").not(".hidden").prop("class").replace(/\s+/g,".");localStorage.setItem("close_field_class",n);var i="select.php?class_name=hr_employee_v";$(this).siblings(".org_id").val()?i+="&org_id="+$(this).siblings(".org_id").val():$("#org_id").val()&&(i+="&org_id=%3D"+$("#org_id").val()),$(this).siblings(".employee_name").val()&&(i+="&employee_name="+$(this).siblings(".employee_name").val()),void window.open(i,"_blank","width=1000,height=800,TOOLBAR=no,MENUBAR=no,SCROLLBARS=yes,RESIZABLE=yes,LOCATION=no,DIRECTORIES=no,STATUS=no")}),$("body").on("click",".select_account.select_popup",function(){var e="select.php?class_name=coa_combination",t=$(this).parent().prop("tagName");if("TD"===t){var a=$(this).closest("tr").prop("class"),n=$(this).closest("td").find(".account_popup").prop("class");localStorage.setItem("row_class",a),localStorage.setItem("field_class",n),$(this).closest("td").find("input").data("ac_type")&&(e+="ac_type="+$(this).closest("td").find("input").data("ac_type"))}else{var i=$(this).closest("li").find(".select_account").prop("id");localStorage.setItem("li_divId",i),$(this).closest("li").find("select_account").data("ac_type")&&(e+="ac_type="+$(this).closest("td").find("input").data("ac_type"))}var o="."+$(this).parent().find(":input").not(".hidden").prop("class").replace(/\s+/g,".");localStorage.setItem("close_field_class",o),localStorage.setItem("set_value_for_one_field",!0),void window.open(e,"_blank","width=1200,height=1000,TOOLBAR=no,MENUBAR=no,SCROLLBARS=yes,RESIZABLE=yes,LOCATION=no,DIRECTORIES=no,STATUS=no")}),$("body").on("click",".select_item_number.select_popup",function(){var e=$(this).parent().prop("tagName");if("TD"===e){var t=$(this).closest("tr").prop("class"),a=$(this).closest("td").find(".select_item_number").prop("class");localStorage.setItem("row_class",t),localStorage.setItem("field_class",a)}else{var n=$(this).closest("li").find(".item_number").prop("id");localStorage.setItem("li_divId",n)}var i="."+$(this).parent().find(":input").not(".hidden").prop("class").replace(/\s+/g,".");localStorage.setItem("close_field_class",i);var o="select.php?class_name=item";$(this).siblings(".org_id").val()?o+="&org_id="+$(this).siblings(".org_id").val():$("#org_id").val()&&(o+="&org_id=%3D"+$("#org_id").val()),$(this).siblings(".item_number").val()&&(o+="&item_number="+$(this).siblings(".item_number").val()),$(this).parent().parent().find(".popup_value").each(function(){var e=$(this).prop("name").replace(/\[]+/g,"");o+="&"+e+"="+$(this).val()}),void window.open(o,"_blank","width=1200,height=1000,TOOLBAR=no,MENUBAR=no,SCROLLBARS=yes,RESIZABLE=yes,LOCATION=no,DIRECTORIES=no,STATUS=no")}),$("#content").on("click",".select_item_number_only.select_popup",function(){var e=$(this).closest("tr").prop("class"),t=$(this).closest("td").find(".select_item_number").prop("class");localStorage.setItem("row_class",e),localStorage.setItem("field_class",t);var a="."+$(this).parent().find(":input").not(".hidden").prop("class").replace(/\s+/g,".");localStorage.setItem("close_field_class",a);var n="select.php?class_name=item_select";$(this).siblings(".item_number").val()&&(n+="&item_number="+$(this).siblings(".item_number").val()),localStorage.setItem("set_value_for_one_field",!0),void window.open(n,"_blank","width=1000,height=800,TOOLBAR=no,MENUBAR=no,SCROLLBARS=yes,RESIZABLE=yes,LOCATION=no,DIRECTORIES=no,STATUS=no")}),$("body").on("click",".select_serial_number.select_popup",function(){var e=$(this).parent().prop("tagName");if("TD"===e){var t=$(this).closest("tr").prop("class"),a=$(this).closest("td").find(".select_serial_number").prop("class");localStorage.setItem("row_class",t),localStorage.setItem("field_class",a)}else{var n=$(this).closest("li").find(".serial_number").prop("id");localStorage.setItem("li_divId",n)}var i="."+$(this).parent().find(":input").not(".hidden").prop("class").replace(/\s+/g,".");localStorage.setItem("close_field_class",i);var o="select.php?class_name=inv_serial_number";$(this).siblings(".org_id").val()?o+="&org_id="+$(this).siblings(".org_id").val():$("#org_id").val()&&(o+="&org_id=%3D"+$("#org_id").val()),$(this).siblings(".item_id_m").val()&&(o+="&item_id_m="+$(this).siblings(".item_id_m").val()),$(this).parent().parent().find(".popup_value").each(function(){var e=$(this).prop("name").replace(/\[]+/g,"");o+="&"+e+"="+$(this).val()}),void window.open(o,"_blank","width=1200,height=1000,TOOLBAR=no,MENUBAR=no,SCROLLBARS=yes,RESIZABLE=yes,LOCATION=no,DIRECTORIES=no,STATUS=no")}),$("body").on("click",".select.inv_serial_number_id",function(){if($(this).find("option").length>0)return!0;var e=$(this).parent().prop("tagName");if("TD"===e){var t=$(this).closest("tr").prop("class"),a=$(this).closest("tr").find(".item_id_m").val();if(!a)return!0;var n=$(this).parent().find(".serial_status").val();getSerialNumber({status:n,item_id_m:a,trclass:t})}else{var t=$(this).closest("tr").prop("class"),a=$(this).closest("ul").find(".item_id_m").val(),n=$(this).parent().find(".serial_status").val();if(!a)return!0;getSerialNumber({status:n,item_id_m:a})}}),$("body").on("click",".address_id.select_popup",function(e){e.preventDefault(),localStorage.setItem("set_value_for_one_field",!0);var t="."+$(this).parent().find(":input").not(".hidden").prop("class").replace(/\s+/g,".");return localStorage.setItem("close_field_class",t),void window.open("select.php?class_name=address&mode=2","_blank","width=1200,height=1000,TOOLBAR=no,MENUBAR=no,SCROLLBARS=yes,RESIZABLE=yes,LOCATION=no,DIRECTORIES=no,STATUS=no"),!1}),$("body").on("click",".select_popup_default_class",function(e){e.preventDefault(),localStorage.setItem("set_value_for_one_field",!0);var t="."+$(this).parent().find(":input").not(".hidden").prop("class").replace(/\s+/g,".");localStorage.setItem("close_field_class",t);var a="select.php?class_name="+$(this).data("default_class")+"&mode=2";return $(this).parent().find(".popup_value").each(function(){var e=$(this).prop("name").replace(/\[]+/g,"");a+="&"+e+"="+$(this).val()}),void window.open(a,"_blank","width=1200,height=1000,TOOLBAR=no,MENUBAR=no,SCROLLBARS=yes,RESIZABLE=yes,LOCATION=no,DIRECTORIES=no,STATUS=no"),!1}),$("body").on("click",".ar_customer_id.select_popup",function(){var e="."+$(this).parent().find(":input").not(".hidden").prop("class").replace(/\s+/g,".");localStorage.setItem("close_field_class",e),void window.open("select.php?class_name=ar_customer","_blank","width=1200,height=1000,TOOLBAR=no,MENUBAR=no,SCROLLBARS=yes,RESIZABLE=yes,LOCATION=no,DIRECTORIES=no,STATUS=no")}),$("body").on("click",".supplier_id.select_popup",function(){var e="."+$(this).parent().find(":input").not(".hidden").prop("class").replace(/\s+/g,".");localStorage.setItem("close_field_class",e),void window.open("select.php?class_name=supplier","_blank","width=1200,height=1000,TOOLBAR=no,MENUBAR=no,SCROLLBARS=yes,RESIZABLE=yes,LOCATION=no,DIRECTORIES=no,STATUS=no")}),$("body").on("click",".user_id.select_popup",function(){var e="."+$(this).parent().find(":input").not(".hidden").prop("class").replace(/\s+/g,".");localStorage.setItem("close_field_class",e),void window.open("select.php?class_name=user","_blank","width=1200,height=1000,TOOLBAR=no,MENUBAR=no,SCROLLBARS=yes,RESIZABLE=yes,LOCATION=no,DIRECTORIES=no,STATUS=no")}),$("body").on("click",".hd_change_request_id.select_popup",function(){var e="."+$(this).parent().find(":input").not(".hidden").prop("class").replace(/\s+/g,".");localStorage.setItem("close_field_class",e),void window.open("select.php?class_name=hd_change_request","_blank","width=1200,height=1000,TOOLBAR=no,MENUBAR=no,SCROLLBARS=yes,RESIZABLE=yes,LOCATION=no,DIRECTORIES=no,STATUS=no")}),$("body").on("click",".hd_support_request_id.select_popup",function(){var e="."+$(this).parent().find(":input").not(".hidden").prop("class").replace(/\s+/g,".");localStorage.setItem("close_field_class",e),void window.open("select.php?class_name=hd_support_request","_blank","width=1200,height=1000,TOOLBAR=no,MENUBAR=no,SCROLLBARS=yes,RESIZABLE=yes,LOCATION=no,DIRECTORIES=no,STATUS=no")}),$("#content").on("click",".extn_contact_id.select_popup",function(){var e="."+$(this).closest("li").find(":input").not(".hidden").prop("class").replace(/\s+/g,".");localStorage.setItem("close_field_class",e),void window.open("select.php?class_name=extn_contact","_blank","width=1200,height=1000,TOOLBAR=no,MENUBAR=no,SCROLLBARS=yes,RESIZABLE=yes,LOCATION=no,DIRECTORIES=no,STATUS=no")}),$("#content").on("click",".hd_service_request_id.select_popup",function(){var e="."+$(this).closest("li").find(":input").not(".hidden").prop("class").replace(/\s+/g,".");localStorage.setItem("close_field_class",e),void window.open("select.php?class_name=hd_service_request","_blank","width=1200,height=1000,TOOLBAR=no,MENUBAR=no,SCROLLBARS=yes,RESIZABLE=yes,LOCATION=no,DIRECTORIES=no,STATUS=no")}),$("body").on("click",".select_am_asset_number.select_popup",function(){var e="."+$(this).parent().find(":input").not(".hidden").prop("class").replace(/\s+/g,".");localStorage.setItem("close_field_class",e),void window.open("select.php?class_name=am_asset","_blank","width=1200,height=1000,TOOLBAR=no,MENUBAR=no,SCROLLBARS=yes,RESIZABLE=yes,LOCATION=no,DIRECTORIES=no,STATUS=no")}),$("body").on("click","a.contact_link",function(e){e.preventDefault(),void window.open($(this).prop("href"),"_blank","width=1000,height=600,TOOLBAR=no,MENUBAR=no,SCROLLBARS=yes,RESIZABLE=yes,LOCATION=no,DIRECTORIES=no,STATUS=no")}),$("body").on("click",".wo_number.select_popup",function(){var e="."+$(this).closest("li").find(":input").not(".hidden").prop("class").replace(/\s+/g,".");localStorage.setItem("close_field_class",e);var t="select.php?class_name=wip_wo_header";$(this).parent().parent().find(".popup_value").each(function(){var e=$(this).prop("name").replace(/\[]+/g,"");t+="&"+e+"="+$(this).val()}),void window.open(t,"_blank","width=1200,height=1000,TOOLBAR=no,MENUBAR=no,SCROLLBARS=yes,RESIZABLE=yes,LOCATION=no,DIRECTORIES=no,STATUS=no")}),$("#content").on("change",".search_order_by",function(){"remove"!==$(this).val()?$(this).closest("li").clone().insertAfter($(this).closest("li")):$(this).closest("li").remove()}),$("body").on("change","#searchForm .new_search_criteria",function(){if($(this).val()){var e=$(this).val(),t=$(this).find("option:selected").prop("innerHTML"),a=e+"[]",n=$(".text_search").first().closest("li"),i=$(".text_search").first().prop("class"),o=$(".text_search").first().prop("name"),l=".label_"+o;l=l.replace("[",""),l=l.replace("]","");var s=n.clone();s.find("label").prop("textContent",t),s.find("label").text(t),s.children().removeClass(i),s.children().addClass(e),s.children().prop("name",a),s.find("input").each(function(){$(this).val("")}),s.insertBefore($(this).closest("li")),$(l+":last").text(e)}}),$(".form_detail_data_fs").hide(),$("#content").on("click",".error",function(){$(this).html("")}),$("body").on("click","#sys_msg_box button.close",function(){$(".alert-dismissible").alert("close")}),$("#content").on("click","#export_excel_searchResult",function(e){window.open("data:application/vnd.ms-excel,"+encodeURIComponent($("#search_result").html())),e.preventDefault()}),remove_row(),$("#content").on("click",".remove_file",function(){$(this).closest("ul").remove()}),$("body").on("focus",".dateTime",function(){var e=new Date,t=e.getHours()+":"+e.getMinutes()+":"+e.getSeconds();$(this).datepicker({defaultDate:e,changeMonth:!0,changeYear:!0,dateFormat:"yy-mm-dd "+t,setDate:e})}),$("body").on("focus",".anyDate",function(){if($(this).hasClass("readonly"))$(this).prop("disabled",!0),alert(readonly_field);else{var e=new Date;$(this).datepicker({defaultDate:0,changeMonth:!0,changeYear:!0,dateFormat:"yy-mm-dd",setDate:e})}}),$("body").on("focus",".dateFromToday",function(){if($(this).hasClass("readonly"))$(this).prop("disabled",!0),alert(readonly_field);else{var e=new Date;$(this).datepicker({defaultDate:0,minDate:0,changeMonth:!0,changeYear:!0,dateFormat:"yy-mm-dd",setDate:e})}}),$("body").on("focus",".MondayFromToday",function(){if($(this).hasClass("readonly"))$(this).prop("disabled",!0),alert(readonly_field);else{var e=new Date;$(this).datepicker({defaultDate:0,minDate:0,changeMonth:!0,changeYear:!0,dateFormat:"yy-mm-dd",setDate:e,beforeShowDay:function(e){var t=e.getDay();return[1==t,""]}})}});var s=new Date,r=s.getFullYear()+"-"+(s.getMonth()+1)+"-"+s.getDate();if($(".default_date").val(r),$("body").on("change",".dateFromToday",function(){var e=new Date,t=$(this).datepicker("getDate"),a=t-e;t&&-864e5>a&&($(this).attr("value",""),$(this).focus(),alert("Past date is not allowed"))}),$(function(){var e=$("#tabsHeader").tabs(),e=$("#tabsLine").tabs();e.find(".ui-tabs-nav").sortable({axis:"x",stop:function(){e.tabs("refresh")}})}),$("#tabsVertical").tabs().addClass("ui-tabs-vertical ui-helper-clearfix"),$("#tabsVertical li").removeClass("ui-corner-top").addClass("ui-corner-left"),$("#tabsDetail, #tabsDetailA ,#tabsDetailB, #tabsDetailC, #tabsDetailD, #tabsDetailSN, #tabsDetailLN").tabs(),$(".tabsDetail, .tabsDetailA , .tabsDetailB, .tabsDetailC, .tabsDetailD, .tabsDetailSL, .tabsDetailLN").tabs(),$("#refresh_button").on("click",function(){location.reload(!0),localStorage.removeItem("disableContextMenu")}),tinymce.init({selector:".mediumtext",mode:"exact",plugins:"textcolor link image lists code table emoticons",width:680,height:150,relative_urls:!1,remove_script_host:!1,force_br_newlines:!0,force_p_newlines:!1,forced_root_block:"",toolbar:"styleselect code | emoticons forecolor backcolor bold italic pagebreak | alignleft aligncenter alignright | bullist numlist outdent indent | link image inserttable ",menubar:!1,statusbar:!1,valid_elements:"*[*]",file_browser_callback:function(){$("#comment_attachments").trigger("click")}}),tinymce.init({selector:".bigtext",mode:"exact",plugins:"textcolor link image lists code table emoticons",width:740,height:250,relative_urls:!1,remove_script_host:!1,force_br_newlines:!0,force_p_newlines:!1,forced_root_block:"",toolbar:"styleselect code | emoticons forecolor backcolor bold italic pagebreak | alignleft aligncenter alignright | bullist numlist outdent indent | link image inserttable ",menubar:!1,statusbar:!1,valid_elements:"*[*]",file_browser_callback:function(){$("#attachment_button").click()}}),$("#content").on("click",".disable_autocomplete",function(){$(this).parent().siblings("input").each(function(){$(this).autocomplete({disabled:!0});var e=$(this).prop("name").replace(/\[]+/g," ").replace(/_+/g," ");$(this).prop("placeholder","Enter new "+e)}),$(this).parent().children("input").each(function(){$(this).autocomplete({disabled:!0});var e=$(this).prop("name").replace(/\[]+/g," ").replace(/_+/g," ");$(this).prop("placeholder","Enter new "+e)})}),$("#content").on("dblclick",":input",function(){$(this).hasClass("ui-autocomplete-input")&&$(this).autocomplete({disabled:!1})}),$("[required]").addClass("required"),$("[readonly]").addClass("readonly"),$(".print").click(function(){window.print()}),$("#export_excel_allResult").on("click",function(){$("#download_all").submit()}),$("body").on("click","#generate_report",function(){$("#program_header").submit()}),show_dialog_box(),animateCycle(),$("#all_contents").on("click",".start_play",function(){animateCycle()}),$("#all_contents").on("focusIn","#animated_block",function(){clearInterval(interval)}),$("#all_contents").on("focusOut","#animated_block",function(){animateCycle()}),treeView(),$("#search_message").dialog({autoOpen:!1,dialogClass:"no-close",modal:!0,minWidth:600,title:"Searching Tips",show:{effect:"blind",duration:1e3},hide:{effect:"explode",duration:1e3},buttons:[{text:"OK",click:function(){$(this).dialog("close")}}],closeOnEscape:!0,position:{my:"left top",at:"left top",of:"#structure "}}),$("body").off("click","#search_tip").on("click","#search_tip",function(){$("#search_message").dialog("open")}),$("body").off("click","#menu_button8").on("click","#menu_button8",function(){$("#document_history_ul").dialog("open")}),$("ul#js_saving_data").length>0){var d=new saveMainClass,c=$("ul#js_saving_data").find(".headerClassName").data("headerclassname"),_=$("ul#js_saving_data").find(".lineClassName").data("lineclassname"),u=$("ul#js_saving_data").find(".lineClassName2").data("lineclassname2"),p=$("ul#js_saving_data").find(".detailClassName").data("detailclassname"),f=$("ul#js_saving_data").find(".form_header_id").data("form_header_id"),h=$("ul#js_saving_data").find(".form_line_id").data("form_line_id"),m=$("ul#js_saving_data").find(".primary_column_id").data("primary_column_id"),v=$("ul#js_saving_data").find(".primary_column_id2").data("primary_column_id2"),g=$("ul#js_saving_data").find(".line_key_field").data("line_key_field"),b=$("ul#js_saving_data").find(".savingOnlyHeader").data("savingonlyheader"),y=$("ul#js_saving_data").find(".onlyHeaderOverLay").data("onlyheaderoverlay"),w=$("ul#js_saving_data").find(".save_vertical_tab").data("save_vertical_tab"),S=$("ul#js_saving_data").find(".onlyOneLineAtATime").data("onlyonelineatatime"),j=$("ul#js_saving_data").find(".allLineTogether").data("alllinetogether"),C=$("ul#js_saving_data").find(".single_line").data("single_line"),k=$("ul#js_saving_data").find(".before_save_function").data("before_save_function");if(k||(window.beforeSave=function(){return!1}),d.enable_select=!0,d.json_url="form.php?class_name="+c,d.form_header_id=f,d.form_line_id="undefined"!=typeof h?h:"form_line",d.line_key_field="undefined"!=typeof g?g:null,d.primary_column_id=m,d.primary_column_id2=v,d.savingOnlyHeader=1==b?!0:!1,d.onlyHeaderOverLay=1==y?!0:!1,d.saveVerticalTab=1==w?!0:!1,d.allLineTogether=1==j?!0:!1,d.onlyOneLineAtATime=1==S?!0:!1,d.single_line=1==C?!0:!1,1==C){var D="#"+m;d.savingOnlyHeader=$(D).val()?!1:!0}d.headerClassName=c,d.lineClassName="undefined"!=typeof _?_:null,d.lineClassName2="undefined"!=typeof u?u:null,d.detailClassName="undefined"!=typeof p?p:null,d.saveMain(k)}if($("ul#js_contextMenu_data").length>0){var R=new contextMenuMain,x=$("ul#js_contextMenu_data").find(".docHedaderId").data("dochedaderid"),I=$("ul#js_contextMenu_data").find(".docLineId").data("doclineid"),T=$("ul#js_contextMenu_data").find(".docDetailId").data("docdetailid"),O=$("ul#js_contextMenu_data").find(".btn1DivId").data("btn1divid"),A=$("ul#js_contextMenu_data").find(".btn2DivId").data("btn2divid"),L=$("ul#js_contextMenu_data").find(".trClass").data("trclass"),E=$("ul#js_contextMenu_data").find(".tbodyClass").data("tbodyclass"),B=$("ul#js_contextMenu_data").find(".noOfTabbs").data("nooftabbs");R.docHedaderId="undefined"!=typeof x?x:null,R.docLineId="undefined"!=typeof I?I:null,R.docDetailId="undefined"!=typeof T?T:null,R.btn1DivId="undefined"!=typeof O?O:null,R.btn2DivId="undefined"!=typeof A?A:"form_line",R.trClass="undefined"!=typeof L?L:null,R.tbodyClass="undefined"!=typeof E?E:null,R.noOfTabbs="undefined"!=typeof B?B:null,R.contextMenu()}$("body").on("click","#form_line .add_row_img",function(){var e=new add_new_rowMain,t=$("ul#js_contextMenu_data").find(".noOfTabbs").data("nooftabbs"),a=$("ul#js_saving_data").find(".lineClassName").data("lineclassname");e.trClass=a,e.tbodyClass="form_data_line_tbody",e.noOfTabs=t,e.removeDefault=!0,e.divClassToBeCopied="copy",e.divClassNotToBeCopied="dontCopy",e.add_new_row(),$(".tabsDetail").tabs()}),addOrShow_lineDetails(),onClick_addDetailLine(),onClick_addDetailLine(2,".add_row_detail_img3","tabsDetailC");var q=new mandatoryFieldMain;q.mandatoryHeader(),$("#content").on("change",".sys_extra_field_id",function(){var e=$(this).find("option:selected").data("field_type");$(this).closest("tr").find(".field_type").val(e)}),$("#content").on("change",".sys_secondary_field_id",function(){var e=$(this).find("option:selected").data("field_type");$(this).closest("tr").find(".field_type").val(e)}),$("body").off("click",".hideDiv").on("click",".hideDiv",function(){$(".hideDiv").children().toggle(),$(this).parent().find(".hideDiv_element").toggle(),$(this).parent().parent().find(".hideDiv_element").toggle(),$(this).removeClass("hideDiv").addClass("showDiv")}),$("body").off("click",".showDiv").on("click",".showDiv",function(){$(this).children().toggle(),$(this).parent().find(".hideDiv_element").toggle(),$(this).parent().parent().find(".hideDiv_element").toggle(),$(this).removeClass("showDiv").addClass("hideDiv")}),$("body").off("click",".hideDiv_input").on("click",".hideDiv_input",function(){$(this).parent().find(".hideDiv_input_element").toggle(),$(this).removeClass("hideDiv_input").addClass("showDiv_input")}),$("body").off("click",".showDiv_input").on("click",".showDiv_input",function(){$(this).parent().find(".hideDiv_input_element").toggle(),$(this).removeClass("showDiv_input").addClass("hideDiv_input")}),$("#content_divId .hideDiv_input, #program_header .hideDiv_input").trigger("click"),$("#big_popover").popover({html:!0,title:function(){return $("#popover-head").html()},content:function(){return $("#popover-content").html()}}),$("body").on("click",".close_big_popover",function(){$("#big_popover").trigger("click")}),$("body").on("click","#search_page #search_submit_btn",function(e){e.preventDefault(),$(".hideDiv_input").trigger("click"),getSearchResult()}),$("body").on("click","#select_page #search_submit_btn, #select-popover #search_submit_btn",function(e){e.preventDefault(),$(".hideDiv_input").trigger("click"),getSelectResult()}),$("body").on("click","#search_page .page_nos a, #left-clipboard-data .page_nos a",function(e){e.preventDefault(),$(".hideDiv_input").trigger("click");var t=getUrlValues("pageno",$(this).prop("href")),a=getUrlValues("per_page",$(this).prop("href"));getSearchResult({pageno:t,per_page:a})}),$("body").on("click","#search_page a.content_per_page",function(e){e.preventDefault(),$(".hideDiv_input").trigger("click");var t=$(this).closest(".noOfcontents").find(".per_page").val();getSearchResult({per_page:t})}),$("body").on("click","#select_page .page_nos a",function(e){e.preventDefault(),$(".hideDiv_input").trigger("click");var t=getUrlValues("pageno",$(this).prop("href")),a=getUrlValues("per_page",$(this).prop("href"));getSelectResult({pageno:t,per_page:a})}),$("body").on("click","#select_page a.content_per_page",function(e){e.preventDefault(),$(".hideDiv_input").trigger("click");var t=$(this).closest(".noOfcontents").find(".per_page").val();getSelectResult({per_page:t})}),$("body").on("click","#site_search_submit",function(e){e.preventDefault(),getSiteSearchResult()}),$("body").on("submit","#site_search",function(e){e.preventDefault(),getSiteSearchResult()}),$("body").on("click","#site_search_content .page_nos a",function(e){e.preventDefault(),$(".hideDiv_input").trigger("click");var t=getUrlValues("pageno",$(this).prop("href")),a=getUrlValues("per_page",$(this).prop("href"));getSiteSearchResult({pageno:t,per_page:a})}),$("body").on("click","#site_search_content a.content_per_page",function(e){e.preventDefault(),$(".hideDiv_input").trigger("click");var t=$(this).closest(".noOfcontents").find(".per_page").val();getSiteSearchResult({per_page:t})}),$("body").on("click","#multi_select #search_submit_btn",function(e){e.preventDefault(),$(".hideDiv_input").trigger("click"),getMultiSelectResult()}),$("body").on("click","#multi_select .page_nos a",function(e){e.preventDefault(),$(".hideDiv_input").trigger("click");var t=getUrlValues("pageno",$(this).prop("href")),a=getUrlValues("per_page",$(this).prop("href"));getMultiSelectResult({pageno:t,per_page:a})}),$("body").on("click","#multi_select a.content_per_page",function(e){e.preventDefault(),$(".hideDiv_input").trigger("click");var t=$(this).closest(".noOfcontents").find(".per_page").val();getMultiSelectResult({per_page:t})});var N=2;$("#content").on("click","li#add_new_contact",function(){$(this).closest("ul").find("li").first().clone().attr("class","new_object"+N).prependTo($(this).closest("ul")),N++}),getBlocks(),$("body").on("click","#top-path-menu-ul a, #path_by_module a, .search_result a,#erp_form_area a.ajax-link , #header_top .menu a, #sys_menu_left_vertical .menu a,#search_result .action a, #pagination .page_nos a, #new_page_button",function(e){e.preventDefault();var t=$(this).attr("href"),a=t.split("?"),n=a[0].split("/"),i=n.pop();if("form.php"==i)var o="includes/json/json_form.php?"+a[1];else if("program.php"==i)var o="includes/json/json_program.php?"+a[1];else var o=t;getFormDetails(o),history.pushState(null,null,t)}).one(),$("body").on("click",".ajax_content a",function(e){if($(this).hasClass("non_ajax"))return location.href($(this).prop("href")),!1;e.preventDefault();var t=$(this).attr("href"),a=t.split("?"),n=a[0].split("/"),i=n.pop();if("form.php"==i)var o="includes/json/json_form.php?"+a[1];else if("program.php"==i)var o="includes/json/json_program.php?"+a[1];else var o=t;getFormDetails(o),history.pushState(null,null,t)}),$("body").on("click","#pagination a.content_per_page",function(e){e.preventDefault();var t=$(this).closest("#pagination").find("a").first().attr("href"),a=t.split("?"),n=a[0].split("/"),i=n.pop();if("form.php"==i){a[1]+="&per_page="+$(this).parent().find(".per_page").val();var o="includes/json/json_form.php?"+a[1]}else var o=t;getFormDetails(o)}).one(),$("body").on("click","#content a.show",function(e){e.preventDefault();var t=$("ul#js_saving_data").find(".primary_column_id").data("primary_column_id"),a="#"+t,n=$(a).val(),i=$(this).attr("href"),o=i.split("?"),l="includes/json/json_form.php?"+o[1]+"&"+t+"="+n;if($(this).data("search_field")){var s=$(this).data("search_field"),r="#"+s,d=$(r).val();l+="&"+s+"="+d}getFormDetails(l)}).one(),deleteComment(),$("body").on("click",".update_button",function(e){e.preventDefault();var t=$(this).val(),a=$(this).closest(".commentRecord").prop("id");confirm("Are you sure?")&&updateComment(t,a),e.stopPropagation()}),$("body").on("click",".submit_comment",function(){$(".show_loading_small").show(),$(this).prop("disabled",!0);var e=$(this).closest("form").serializeArray(),t=$("#home_url").val(),a=t+"form.php?class_name=comment";$.when(saveHeader(a,e,"#comment_id","","",!0,"comment")).then(function(){var e='<div class="alert alert-success alert-dismissible" role="alert">';e+='Comment is Successfullyposted. &nbsp; <input type="button" class="btn-sucess" value="Reload page" onclick="location.reload();">',e+="</div>",$(".comment_error").replaceWith(e),$(".show_loading_small").hide()})}),$("body").on("click","#save_program",function(){$(".show_loading_small").show();var e=$("#program_header").serializeArray(),t=$(".class_name").val(),a=$("#home_url").val();if(e){var n=a+"program.php?class_name="+t;$.when(saveHeader(n,e,"#sys_program","","",!0,"program_header")).then(function(){$(".show_loading_small").hide()})}});var U=new fileUploadMain;if($("#upload_type").val()){var F=$("#upload_type").val();U.upload_type=F,U.class_name=$(".class_name").val(),U.directory="temp"}else var F="";U.json_url=e+"extensions/file/upload.php",U.fileUpload(),$("body").on("click",".mdm_bank_account_id.select_popup",function(){void window.open("select.php?class_name=mdm_bank_account_v","_blank","width=1000,height=800,TOOLBAR=no,MENUBAR=no,SCROLLBARS=yes,RESIZABLE=yes,LOCATION=no,DIRECTORIES=no,STATUS=no")}),$("body").on("change","#coa_structure_id",function(){$("#coa_id").val()||getCoaStructure()}),$("body").on("click","#open_next_period",function(){if($("#new_gl_calendar_id").val()){var e=$("#new_gl_calendar_id option:selected").text();confirm("Open "+e+" Period ?\n")&&openNextGLPeriod()}else alert("No period avaibale to open")}),$("body").on("click","a.payslipBy_periodName",function(e){var t=$(this).parent().find("select").val(),a=$(this).parent().find("select").attr("id");e.preventDefault();var n=$(this).attr("href"),i=n.split("?"),o="includes/json/json_form.php?"+i[1]+"&"+a+"="+t+"&employee_id="+$("#employee_id").val();getFormDetails(o)}).one(),$("body").on("click","a.hr_approval_limit_assign_id",function(e){var t=$("#position_id").val(),a=$("#job_id").val(),n=$("#bu_org_id").val();e.preventDefault();var i=$(this).attr("href"),o=i.split("?"),l="includes/json/json_form.php?"+o[1]+"&position_id="+t+"&job_id="+a+"&bu_org_id="+n;getFormDetails(l)}).one(),$("body").on("click","a.sys_profile_header_id",function(e){e.preventDefault();var t=$("#sys_profile_header_id").val(),a=$("#profile_level").val(),n=$(this).attr("href"),i=n.split("?"),o="includes/json/json_form.php?"+i[1]+"&sys_profile_header_id="+t+"&profile_level="+a;getFormDetails(o)}).one(),$("body").on("click","a.sys_hold_reference_doc_id",function(e){e.preventDefault();var t=$("#reference_table").val(),a=$("#reference_id").val(),n=$(this).attr("href"),i=n.split("?"),o="includes/json/json_form.php?"+i[1]+"&reference_table="+t+"&reference_id="+a;getFormDetails(o)}).one(),$("body").on("click","a.bc_label_auto_trigger_id",function(e){e.preventDefault();var t=$("#transaction_type_id").val(),a=$("#association_level").val(),n=$(this).attr("href"),i=n.split("?"),o="includes/json/json_form.php?"+i[1]+"&transaction_type_id="+t+"&association_level="+a;getFormDetails(o)}).one(),$("#filter_area").dialog({autoOpen:!1,dialogClass:"no-close",modal:!0,minWidth:800,title:"Filters",show:{effect:"blind",duration:1e3},hide:{effect:"explode",duration:1e3},buttons:[{text:"Done",click:function(){$("#filter_area").find("input.field_name").val(""),$(this).dialog("close")}}],closeOnEscape:!0,position:{my:"center center",at:"center center"}}),$("body").off("click",".apply-filter").on("click",".apply-filter",function(){var e=$(this).closest(".list_filter").find("select.field_name").val(),t=$(this).closest(".list_filter").find("select.condition_name").val(),a=$(this).closest(".list_filter").find("input.condition_value").val(),n=" "+e;n+=" "+t,n+=" "+a;var i="applied-filter "+e,o=$(".applied_filters").last().clone().attr("data-field_name",e).attr("class",i);$(o).find("button.toggle-filter").append(n),$("#searchForm").append(o);var l=t+a,s='<input class="filter_field '+e+' " type="hidden" value="'+l+'" name="'+e+'[]" form="generic_search_form">';$("#searchForm").find("ul.search_form").append(s),$("#searchForm").find(".window_type").val()&&"popover"==$("#searchForm").find(".window_type").val()?getSelectResult():getSearchResult()}),$("body").on("click","#search_result .ino_filter",function(){$("#filter_area").dialog("open");var e='<select class="field_name form-control" name="field_name">';$(this).closest("#search_result").find("th").each(function(){if($(this).data("field_name")){var t=$(this).data("field_name");e+='<option value="'+t+'"> '+t+" </option> "}}),e+="</select>",$("#filter_area").find("input.field_name").replaceWith(e),$("#filter_area").find("select.field_name").val($(this).closest("th").data("field_name"))}),$("body").on("click","#search_result .ino_sort_a_z",function(){$("#searchForm").find(".search_order_by").val($(this).closest("th").data("field_name")),$("#searchForm").find(".search_asc_desc").val("asc"),getSearchResult()}),$("body").on("click","#search_result .ino_sort_z_a",function(){$("#searchForm").find(".search_order_by").val($(this).closest("th").data("field_name")),$("#searchForm").find(".search_asc_desc").val("desc"),getSearchResult()}),$("body").on("click","#select_result .ino_sort_a_z",function(){$("#searchForm").find(".search_order_by").val($(this).closest("th").data("field_name")),$("#searchForm").find(".search_asc_desc").val("asc"),getSelectResult()}),$("body").on("click","#select_result .ino_sort_z_a",function(){$("#searchForm").find(".search_order_by").val($(this).closest("th").data("field_name")),$("#searchForm").find(".search_asc_desc").val("desc"),getSelectResult()}),$("body").on("click",".add-element",function(){$(this).closest(".list_filter").clone().appendTo($(this).closest(".well"))
}),$("body").on("click",".remove-element",function(){$(".list_filter").length>1?$(this).closest(".list_filter").remove():alert("You cannot remove the last filter element\nClick on Done to close the filter form")}),$("body").on("click","#search_result .ino_sort_z_a",function(){$("#searchForm").find(".search_order_by").val($(this).closest("th").data("field_name")),$("#searchForm").find(".search_asc_desc").val("desc"),getSearchResult()}),$("body").on("click",".remove-filter",function(){var e="."+$(this).closest(".applied-filter").data("field_name");$("#searchForm").find("ul.search_form").find(e).remove(),$(this).closest(".applied-filter").remove(),$("#searchForm").find(".window_type").val()&&"popover"==$("#searchForm").find(".window_type").val()?getSelectResult():getSearchResult()}),$("body").on("click","#select_result .ino_filter",function(){$("#filter_area").dialog("open");var e='<select class="field_name form-control" name="field_name">';$(this).closest("#select_result").find("th").each(function(){if($(this).data("field_name")){var t=$(this).data("field_name");e+='<option value="'+t+'"> '+t+" </option> "}}),e+="</select>",$("#filter_area").find("input.field_name").replaceWith(e),$("#filter_area").find("select.field_name").val($(this).closest("th").data("field_name"))}),$("body").on("click","#select_result .ino_sort_z_a",function(){$("#searchForm").find(".search_order_by").val($(this).closest("th").data("field_name")),$("#searchForm").find(".search_asc_desc").val("desc"),getSelectResult()}),$("body").on("click","#reset_program",function(){$(this).closest("form").find(":input").not(".button").val("")}),$("body").on("click",".right_bar_navigation_menu",function(){if($(".sidebar").is(":visible")){var e=$("body").width();$("#divider-bar").css({"margin-left":"-1000px"}),$(".mainbar,  #navigation_bar").css({"margin-left":"6px",width:e+"px"}),$("#header_top_quick_nav .right_bar_navigation_menu").removeClass("fa-toggle-left").addClass("fa-toggle-right")}else{var e=$("body").width(),t=16.66*e/100,a=e-t;$("#divider-bar").css({"margin-left":"0px"}),$(".mainbar,  #navigation_bar").css({"margin-left":t+6+"px",width:a+"px"}),$("#header_top_quick_nav .right_bar_navigation_menu").removeClass("fa-toggle-right").addClass("fa-toggle-left")}$(".sidebar").slideToggle()}),$("#divider-bar").draggable({axis:"x",delay:150,topValue:null,leftValue:null,start:function(){this.topValue=$(this).position().top,this.leftValue=$(this).position().left},stop:function(e,t){var a=(t.position.top,t.position.left),n=a,i=$("body").width(),o=i-a;$(".container-fluid .sidebar").css("width",n+"px"),$(".mainbar, #navigation_bar").css({"margin-left":a+"px",width:o+"px"})}}),$("#accordion").accordion({heightStyle:"content",active:1,collapsible:!0}),$("#accordion0").accordion({heightStyle:"content",activate:function(e,t){t.newHeader.find("i").hasClass("fa-plus-circle")&&t.newHeader.find("i").removeClass("fa-plus-circle").addClass("fa-minus-circle"),t.oldHeader.find("i").hasClass("fa-minus-circle")&&t.oldHeader.find("i").removeClass("fa-minus-circle").addClass("fa-plus-circle")}}),$("body").on("click","#accordion h3.recent-visits",function(){refreshData({data_type:"recent_visit",divId:"recent-visits"})}),recentVisitInAjax(),$("body").on("click","#header_top_quick_nav .fa-close",function(){window.close()}),$("body").on("click",".fa-arrow-circle-down",function(){$(this).removeClass("fa-arrow-circle-down").addClass("fa-arrow-circle-up")}),$("body").on("click",".fa-arrow-circle-up",function(){$(this).removeClass("fa-arrow-circle-up").addClass("fa-arrow-circle-down")}),$("body").on("click","#save_content",function(){if(!$("#subject").val())return alert("No Subject Entered. Subject is required!"),!1;$(".error").append('<div class="alert alert-warning alert-dismissible" role="alert">Saving Post ...</div>');var e="#content_data";$(".mce-tinymce").length>=1&&$(e).find("textarea").each(function(){var e=$(this).attr("name"),t=tinyMCE.get(e).getContent();$(this).html(t)});var t=$(e).serializeArray();$(this).prop("disabled",!0),$.when(saveHeader("content.php",t,"#content_id","","",!0,"content")).then(function(){var e='<div class="alert alert-success alert-dismissible" role="alert">';e+="Document is Successfullyposted. <br> Click on view to view the post",e+="</div>",$(".error").replaceWith(e),$(".show_loading_small").hide()})}),$("body").on("click","#generic_save",function(){var e=0,t=[];if($("body").find("input:required").each(function(){$(this).val()||(t.push($(this).attr("class")),e++)}),e>0){var a=' <div id="dialog_box" class="dialog mandatory_message"> '+e+" mandatory field(s) is/are missing....... <br>";return $.map(t,function(e,t){a+=t+" : "+e.replace(/_+/," ")+" <br>"}),a+="</div>",$("#content").append(a),void show_dialog_box()}$(".error").append('<div class="alert alert-warning alert-dismissible" role="alert">Requet In Progress ...</div>');var n="#content_data";$(".mce-tinymce").length>=1&&$(n).find("textarea").each(function(){var e=$(this).attr("name"),t=tinyMCE.get(e).getContent();$(this).html(t)});var i=$(this).data("save_message"),o=$(n).serializeArray();$(this).prop("disabled",!0),$.when(saveHeader("content.php",o,"#content_id","","",!0,"content")).then(function(){var e='<div class="alert alert-success alert-dismissible" role="alert">'+i+"</div>";$(".error").replaceWith(e),$(".show_loading_small").hide()})}),$("body").on("focusin",".always_readonly",function(){$(this).attr("readonly",!0).css("background-color","none repeat scroll 0% 0% #F3F3D2;"),alert(readonly_field)}),$(".small_popover").popover({html:!0,trigger:"hover"}),$("body").on("click",".enable-editor",function(){tinymce.init({selector:".ed-bigtext",mode:"exact",plugins:"textcolor link image lists code table emoticons",width:680,height:150,force_br_newlines:!0,force_p_newlines:!1,forced_root_block:"",relative_urls:!1,remove_script_host:!1,toolbar:"styleselect code | emoticons forecolor backcolor bold italic pagebreak | alignleft aligncenter alignright | bullist numlist outdent indent | link image inserttable ",menubar:!1,statusbar:!1,valid_elements:"*[*]",file_browser_callback:function(){$("#comment_attachments").trigger("click")}})}),$("body").on("click","a.erp-links",function(e){if(e.preventDefault(),$(this).hasClass("search-list-page")){if($("ul#js_saving_data").find(".headerClassName").data("headerclassname")){var t=$("ul#js_saving_data").find(".headerClassName").data("headerclassname"),a="search.php?class_name="+t;getFormDetails(a)}}else if($(this).hasClass("form-page")&&$('input[name="search_class"]')){var t=$('input[name="search_class"]').val(),a="form.php?mode=9&class_name="+t;getFormDetails(a)}}),$("body").on("click",".delete_image",function(){$(this).closest(".ino-images").find(".file_id").val(""),$(this).closest(".ino-images").find(".existing-image").css("display","none")}),$("body").on("click","a.show2.wip_wo_header_id",function(e){e.preventDefault();var t=$("#wip_wo_header_id").val(),a=$(this).attr("href"),n=a+"&wip_wo_header_id="+t;getFormDetails(n)}),$("body").on("mouseenter",".img-vs",function(){$(this).next(".hidden-image").show()}).on("mouseout",".img-vs",function(){$(this).next(".hidden-image").hide()}),deleteImage(),$("body").on("blur",".select.multi-category",function(){if($(this).val())$(this).clone().appendTo($(this).parent());else{var e=0;$(this).parent().find(".select.multi-category").each(function(){$(this).val()||e++,e>1&&$(this).remove()})}}),$("body").off("click",".popup-form.view-catalog").on("click",".popup-form.view-catalog",function(e){e.preventDefault();var t=$(this).prop("href");void window.open(t,"_blank","width=1200,height=1000,TOOLBAR=no,MENUBAR=no,SCROLLBARS=yes,RESIZABLE=yes,LOCATION=no,DIRECTORIES=no,STATUS=no")}),magnifier(),$("body").on("click","a.add-to-cart",function(e){e.preventDefault(),$.when(save_dataInSession({data_name:"ec_product_id",data_value:$("#ec_product_id").val(),over_write:!1})).then(function(){alert("Cart is updated");var e=+$("#no-of-cart-items").html();e++,+$("#no-of-cart-items").html(" "+e+" "),console.log(e)})}),$("body").off("click","#copy_clipboard").on("click","#copy_clipboard",function(){var e='<div class="search_result"><table>';$("td.search_result.action").each(function(){e+="<tr><td>"+$(this).prev().html()+"</td>",e+="<td>"+$(this).html()+"</td></tr>"}),e+="</table></div>",$("#left-clipboard-data").append(e),$("#accordion h3.clipboard-data").trigger("click")}),$("body").on("click",".clear-clipboard",function(){$("#left-clipboard-data").empty()}),$("body").on("click",".get-view-content",function(){var e=$(this).data("view_id");if($(this).data("update_divId"))var t="#"+$(this).data("update_divId");else var t=$(this).prop("hash");$(t).text().trim()||getViewResultByViewId({view_id:e,update_divId_h:t})})});