function saveHeader(t,e,i,n,a,o,s,l){return $.ajax({url:t,data:{headerData:e,className:s},type:"post",success:function(t){if(t){var e=($(t).filter("div#json_save_header").html(),$(t).find(".message, .rollback_msg").html());if(e&&e.length>1&&($(".error").prepend(t),$("#accordion").accordion({active:0})),i){var s=i.replace("#","."),r=$(t).find("div#headerId").html(),d=$(t).find("div#primary_column2").html(),c=$(t).find("div#primary_column3").html();r&&"undefined"!==r&&($(i).val(r),$(s).val(r)),$(n)&&$(".primary_column2").val(d),$(a)&&$(".primary_column3").val(c)}(o||l)&&($("#overlay").css("display","none"),$("#form_top_image").css("display","block"))}},beforeSend:function(){$("#overlay").css("display","block"),$("#form_top_image").css("display","none")},error:function(t,e,i){alert("Request "+t+" has errored with "+e+" : "+i)},complete:function(){$(".show_loading_small").hide()}})}function saveSingleLine(t,e,i,n){var a=$(i).val();return $.ajax({url:t,data:{lineData:e,header_id:a,className:n},type:"post",beforeSend:function(){$("#overlay").css("display","block"),$("#form_top_image").css("display","none")}}).done(function(t){var e=$(t).find(".message, .rollback_msg").html();e&&e.length>1&&($(".error").prepend(t),$("#accordion").accordion({active:0}));$(t).filter("#lineId").html();$("#overlay").css("display","none"),$("#form_top_image").css("display","block")}).fail(function(t,e,i){$("#overlay").css("display","none"),$("#form_top_image").css("display","block"),alert("save failed \n"+t+e+i)})}function saveLine(t,e,i,n,a,o,s){var l=$(a).val();$.ajax({url:t,data:{lineData:e,detailData:n,header_id:l,className:o,detail_classname:s},type:"post",beforeSend:function(){$("#overlay").css("display","block"),$("#form_top_image").css("display","none")}}).done(function(t){var e=$(t).filter("div#json_save_line").html(),n=$(t).find(".message, .rollback_msg").html();n&&n.length>1&&($(".error").prepend(t),$("#accordion").accordion({active:0}));var a=$(e).filter(".lineId").html();$("#form_data_table tbody tr."+i).find(".line_id").val(a),$("#overlay").css("display","none"),$("#form_top_image").css("display","block")}).fail(function(t,e,i){$("#overlay").css("display","none"),$("#form_top_image").css("display","block"),alert("save failed \n"+t+e+i)})}function saveLineSecondForm(t,e,i,n,a){var o=$("#header_id").val();$.ajax({url:t,data:{lineData2:e,detailData:n,header_id:o,className:a},type:"post"}).done(function(t){var e=$(t).filter("div#json_save_line2").html(),n=$(e).filter(".lineId").html();$("tbody.form_data_line_tbody2 tr."+i).find(".line_id").val(n);var a=$(t).find(".message, .rollback_msg").html();a&&a.length>1&&($(".error").prepend(e),$("#accordion").accordion({active:0})),$("#overlay").css("display","none"),$("#form_top_image").css("display","block")}).fail(function(t,e,i){$("#overlay").css("display","none"),$("#form_top_image").css("display","block"),alert("save failed \n"+t+e+i)})}function saveMainClass(t,e,i,n,a,o,s,l,r,d,c,f,u,_,h,p,m,v){this.json_url=t,this.form_header_id=e,this.primary_column_id=i,this.line_key_field=a,this.form_line_id=o,this.primary_column_id2=s,this.primary_column_id3=l,this.single_line=n,this.enable_select=r,this.savingOnlyHeader=d,this.headerClassName=c,this.lineClassName=f,this.detailClassName=u,this.lineClassName2=_,this.onlyOneLineAtATime=h,this.allLineTogether=p,this.saveVerticalTab=m,this.onlyHeaderOverLay=v}function exportToExcelMain(t,e,i){this.containerType=t,this.divId=e,this.numberOfTabs=i}function add_new_rowMain(t,e,i,n,a,o,s,l){this.trClass=t,this.tbodyClass=e,this.copyFirstLine=n,this.noOfTabs=i,this.removeDefault=a,this.divClassNotToBeCopied=o,this.divClassToBeCopied=s,this.lineNumberIncrementValue=l}function copy_document(t,e,i){var n="#"+t,a="."+t,o="."+e,s="."+i;$(n).val(""),$(".dont_copy, .dontCopy").val(""),$(".primary_column2").val(""),$(a).val(""),$(o).val(""),$(s).val(""),$("#content").find(":input").each(function(){$(this).prop("readonly",!1),$(this).prop("disabled",!1)})}function copy_header(t){var e="#"+t;$(e).val(""),$(".dont_copy, dontCopy").val(""),$(".primary_column2").val("");var i="."+$("#form_line tbody tr:first").prop("class");$("#form_line tbody tr:not("+i+")").remove(),$("#form_line tbody tr").find(":input").each(function(){$(this).attr("value","")}),$("#content").find(":input").each(function(){$(this).prop("readonly",!1),$(this).prop("disabled",!1)})}function rightClickMenu(t){if(!localStorage.getItem("disableContextMenu")){var e="<div id='right_click_menu'>"+t+"</div>";$("#content").bind("contextmenu",function(t){t.preventDefault(),$("#right_click_menu")&&$("div#right_click_menu").remove(),$(e).appendTo("body").css({top:t.pageY+"px",left:t.pageX+"px"})}),$("body").bind("click",function(){$("div#right_click_menu").remove()})}}function rightClickDocMenu(t){if(!localStorage.getItem("disableContextMenu")){var e="<div id='right_click_doc_menu'>"+t+"</div>";$(".right_click_doc_menu_field").bind("contextDocMenu",function(t){t.preventDefault(),$("#right_click_doc_menu")&&$("div#right_click_doc_menu").remove(),$(e).appendTo("body").css({top:t.pageY+"px",left:t.pageX+"px"})}),$("body").bind("click",function(){$("div#right_click_doc_menu").remove()})}}function contextMenuMain(t,e,i,n,a,o,s,l,r,d,c,f,u,_,h,p,m,v,$,b,y){this.docHedaderId=t,this.docLineId=e,this.docDetailId=i,this.btn1DivId=s,this.btn2DivId=l,this.btn2_1DivId=r,this.trClass=n,this.tbodyClass=a,this.noOfTabbs=o,this.btn6DivId=d,this.btn7DivId=c,this.btn8DivId=f,this.btn9DivId=u,this.btn9_1DivId=_,this.btn9_2DivId=h,this.btn9_3DivId=p,this.btn10DivId=m,this.btn10_1DivId=v,this.btn11DivId=$,this.beforeCopy=b,this.afterCopy=y}function autoCompleteMain(t,e,i,n,a,o,s,l){this.json_url=t,this.field_name=e,this.primary_column1=i,this.primary_column2=n,this.select_class=a,this.extra_elements=s,this.min_length=o,this.options=l}function fileUploadMain(t,e,i,n,a,o,s){this.json_url=t,this.module_name=e,this.class_name=n,this.document_type=i,this.upload_type=a,this.directory=o,this.display_type=s}function mandatoryFieldMain(t,e,i,n){this.form_area=t,this.mandatory_fields=e,this.mandatory_messages=i,this.header_id=n}function lotSerial_quantityValidation(t){var e={quantity_divClass:".transaction_quantity"},i=$.extend({},e,t),n=1;return $(".add_detail_values1").each(function(){if($(this).children(".serial_generation").val()){var t="."+$(this).closest("tr").prop("class").replace(/\s+/g,"."),e=+$("#content").find(t).find(i.quantity_divClass).val(),a=0;if($(this).closest("td").find(".inv_serial_number_id").each(function(){$(this).val()&&a++}),a!=e){var o=0;if($(this).closest("td").find(".serial_number").each(function(){$(this).val()&&o++}),o!=e)return alert("Can't save data as no of serial numbers doesnt match quantity \nNo of serial numbers entered : "+o+"\nNo of units :"+e),n=-10,!1}}}),$(".add_detail_values0").each(function(){if($(this).children(".lot_generation").val()){var t="."+$(this).closest("tr").prop("class").replace(/\s+/g,"."),e=+$("#content").find(t).find(i.quantity_divClass).val(),a=0;if($(this).closest("tr").find(".lot_quantity").each(function(){a+=$(this).val()}),a!=e)return alert("Can't save data as no of lot quantities doesnt match line quantity"),n=-10,!1}}),n}saveMainClass.prototype.saveMain=function(t){var e="#"+this.form_header_id;if(this.form_line_id)var i=this.form_line_id;else var i="form_line";var n="#"+this.form_line_id;if(this.primary_column_id)var a="#"+this.primary_column_id;var o="#"+this.primary_column_id2,s="#"+this.primary_column_id3,l=this.json_url,r=this.form_header_id,d=this.single_line,c=this.line_key_field,f=this.enable_select,u=this.savingOnlyHeader,_=this.headerClassName,h=this.lineClassName,p=this.detailClassName,m=this.lineClassName2,v=this.onlyOneLineAtATime,b=this.allLineTogether,y=this.onlyHeaderOverLay,g=this.saveVerticalTab,C="."+c;$("#save").on("click",function(c){if($.isFunction(window.beforeSave)){var k=window.beforeSave();if(0>k)return}if("function"==typeof t){var k=t();if(0>k)return}var D=0,x=[];if(a&&!$(a).val()?$(e+" :required").each(function(){$(this).val()||(x.push($(this).attr("class")),D++)}):$(":required").each(function(){$(this).val()||(x.push($(this).attr("class")),D++)}),D>0){var w=' <div id="dialog_box" class="dialog mandatory_message"> '+D+" mandatory field(s) is/are missing....... <br>";return $.map(x,function(t,e){w+=e+" : "+t.replace(/_+/," ")+" <br>"}),w+="</div>",$("#content").append(w),void show_dialog_box()}if(v){var I=0;if($('input[name="line_id_cb"]').each(function(){$(this).prop("checked")&&I++}),1!==I)return void alert(I+" Number of Lines are seleceted\nYou can save only one line at a time!")}c.preventDefault();var j=[];f&&($("select:disabled").each(function(){j.push($(this).attr("id"))}),$("select:disabled").attr("disabled",!1));var T=$(e+" :input").not(".search, .text_search").serializeArray();if(u=u?!0:$("#form_line").html()&&$(a).val()&&$('input[name="line_id_cb"]:checked').length>0&&$(C).val()?!1:!0,void 0===_&&(_=r),void 0===h&&(h=i),void 0!==typeof T&&T.length>0&&saveHeader(l,T,a,o,s,u,_,y),b){var A=[];return $('input[name="line_id_cb"]:checked').each(function(){var t=$(this).closest("tr").attr("class"),e=[];$("#form_line").find("."+t+" > td").each(function(){if(!$(this).hasClass("add_detail_values")){var t=$(this).find(":input").serializeArray();e=$.merge(e,t)}}),A=$.merge(A,e)}),void(null!==A&&(h&&void 0!==h&&$(a).val()?saveHeader(l,A,a,o,s,u,h):$(a).length<1&&saveHeader(l,A,a,o,s,u,_)))}if(f&&$(j).each(function(t,e){$("body").find("#"+e).attr("disabled",!0)}),g)return void $(".tabContainer_v").find(".tabContent").each(function(){var t=$(this).find(":input").serializeArray();saveSingleLine(l,t,a,h)});if(d){var L=$(n).serializeArray();saveSingleLine(l,L,a,h)}else{if($('input[name="line_id_cb"]:checked').length>0)if($("#tabsLine-1").html()){var M=0;$('input[name="line_id_cb"]:checked').each(function(){var t=$(this).closest("tr").attr("class"),e="."+$(this).closest("tr").attr("class").replace(/\s+/g,"."),i=[];if($("#form_line").find(e+" > td").each(function(){if(!$(this).hasClass("add_detail_values")){var t=$(this).find(":input").serializeArray();i=$.merge(i,t)}}),$(this).closest("tr").find("tbody.form_data_detail_tbody").find(":input").serializeArray())var n=$(this).closest("tr").find("tbody.form_data_detail_tbody").find(":input").serializeArray();else n="";M++,saveLine(l,i,t,n,a,h,p)})}else $('input[name="line_id_cb"]:checked').each(function(){var t=$(this).closest("tr").find(":input").serializeArray(),e=$(this).closest("tr").attr("class");if($(this).closest("tr").find("tbody.form_data_detail_tbody").find(":input").serializeArray())var i=$(this).closest("tr").find("tbody.form_data_detail_tbody").find(":input").serializeArray();else i="";saveLine(l,t,e,i,a,h,p)});if(void 0!==typeof m&&null!==m){var N=$("tbody.form_data_line_tbody2").length;$('#form_line2 input[name="line_id_cb"]:checked').each(N>1?function(){var t=$(this).closest("tr").attr("class"),e=[];if($("#form_line2").find("."+t+" > td").each(function(){if(!$(this).hasClass("add_detail_values")){var t=$(this).find(":input").serializeArray();e=$.merge(e,t)}}),$(this).closest("tr").find("tbody.form_data_detail_tbody").find(":input").serializeArray())var i=$(this).closest("tr").find("tbody.form_data_detail_tbody").find(":input").serializeArray();else i="";M++,saveLineSecondForm(l,e,t,i,m)}:function(){var t=[];$(this).closest("tr > td ").each(function(){if(!$(this).hasClass("add_detail_values")){var e=$(this).find(":input").serializeArray();t=$.merge(t,e)}});var e=$(this).closest("tr").attr("class");if($(this).closest("tr").find("tbody.form_data_detail_tbody").find(":input").serializeArray())var i=$(this).closest("tr").find("tbody.form_data_detail_tbody").find(":input").serializeArray();else i="";saveLineSecondForm(l,t,e,i,m)})}}})},exportToExcelMain.prototype.exportToExcel=function(){var t=this.containerType,e="#"+this.divId,i=(this.divId,this.numberOfTabs);if("table"==t){var n="<table>",a="";if(0==i)n+=$(e).find("thead").html(),$(e).find("tr").each(function(){a+="<tr>",$(this).find("td").each(function(){a+="<td>",$(this).children().val()?("text"===$(this).children().prop("type")&&(a+=$(this).children().val()),"select-one"===$(this).children().prop("type")&&(a+=$(this).children().children(":selected").text())):a+=$(this).text(),a+="</td>"}),a+="</tr>"});else{n+="<tr>",$(e).find("thead").each(function(){n+=$(this).children().html()}),n+="</tr>";var o=[],s=0;$(e).find("tbody:first").find("tr").each(function(){o[s++]=$(this).prop("class")}),$(o).each(function(t,i){a+="<tr>";var n="."+i;$(e).find(n).each(function(){$(this).find("td").each(function(){a+="<td>",$(this).children().val()?("text"===$(this).children().prop("type")&&(a+=$(this).children().val()),"select-one"===$(this).children().prop("type")&&(a+=$(this).children().children(":selected").text())):a+="",a+="</td>"})}),a+="</tr>"})}n+=a,n+="</table>"}else if("div"==t){var n="<table>";$(e).find("li").each(function(){""!==$(this).find("label").text()&&(n+="<tr><td>",n+=$(this).find("label").text(),n+="</td><td>",n+="text"===$(this).find("input").prop("type")?$(this).find("input").val():"number"===$(this).find("input").prop("type")?$(this).find("input").val():$(this).find("select").val()?$(this).children().children(":selected").text():$(this).find("select").val(),n+="</td></tr>")}),n+="<table>"}window.open("data:application/vnd.ms-excel,"+encodeURIComponent(n))};var objectCount=491;add_new_rowMain.prototype.add_new_row=function(t){var e=this.tbodyClass,i=this.trClass,n=this.divClassToBeCopied,a=this.lineNumberIncrementValue,o="."+n;i=i.replace(/tr\./g,""),i=i.replace(/0/g,""),i=i.replace(/-/g,""),e=e.replace(/tbody\./g,""),e="."+e;var s=1,l=1;$(".lines_number").each(function(){$(this).val()>s&&(s=$(this).val())}),$(e).find(".seq_number").last().val()&&(l=$(e).find(".seq_number").last().val());var r=+l+1;$(a).length<1&&(a=1);var d=+s+ +a;if(this.copyFirstLine)var c="."+$("tr[class*='"+i+"']:first").first().prop("class");else var c="."+$("tr[class*='"+i+"']:last").first().prop("class");if(this.noOfTabs>1){var f=$("tr[class*='"+i+"']").first().closest(".tabContent").attr("id"),u=f.split("-"),_=u[1];tabCount=1;do $("#tabsLine-"+_+" "+c).clone().attr("id","new_object"+_+"_"+objectCount).attr("class","new_object"+objectCount).appendTo($("#tabsLine-"+_+" "+e)),_++,tabCount++;while(tabCount<=this.noOfTabs)}else $(c).clone().attr("class","new_object"+objectCount).appendTo($(e));$("tr.new_object"+objectCount).find(this.divClassNotToBeCopied).each(function(){$(this).attr("value",""),$(this).val("")}),this.removeDefault===!0&&($("tr.new_object"+objectCount).find("td input[type=text],td input[type=number], td input[type=select]").not(o).each(function(){$(this).val(""),$(this).attr("value",""),$(this).removeAttr("id, readonly","disabled"),$(this).removeClass("readonly")}),$("tr.new_object"+objectCount).find(".checkBox.dontCopy").not(o).each(function(){$(this).attr("checked",!1)}),$("tr.new_object"+objectCount).find("td.text_not_tobe_copied").each(function(){$(this).val(""),$(this).attr("value","")})),$("tr.new_object"+objectCount).find(".class_detail_form").replaceWith(""),$("tr.new_object"+objectCount).find(".seq_number").val(r),$(".lines_number:last").val(d),$(".new_object"+objectCount).find(".date").each(function(){$(this).attr("id","date"+dateCount),dateCount++}),"function"==typeof t&&t(),objectCount++},contextMenuMain.prototype.contextMenu=function(){var t=this.docHedaderId,e=this.docLineId,i="."+this.docLineId,n=this.docDetailId,a=("."+this.docDetailId,this.trClass),o=("."+this.trClass,this.tbodyClass,"."+this.tbodyClass),s=this.noOfTabbs,l=this.btn1DivId,r=this.btn2DivId,d=(this.btn2_1DivId,this.btn6DivId,this.btn7DivId,this.btn8DivId,this.btn9DivId,this.btn9_1DivId,this.btn9_2DivId,this.btn9_3DivId,this.btn10DivId,this.btn10_1DivId,this.btn11DivId,this.beforeCopy),c=this.afterCopy,f={beforeCopyActions:function(){if("function"==typeof d){var t=d();if(!t)return}},afterCopyActions:function(){if("function"==typeof c){var t=c();if(!t)return}}},u='<ul id="level1"> <li id="menu_button1" class="export_excel">Export Header</li> <li id="menu_button2" class="end_li_type export_excel">Export Line  <ul>   <li id="menu_button2_1" class="end_li_type export_excel">Second Line Form</li>  </ul></li> <li id="menu_button3" class="end_li_type print">Print Document</li> <li class="copy_doc"><span id="menu_button4"> Copy Header</span>  <ul>   <li class="copy_doc"><span id="menu_button4_1">Copy & Save Header</span></li>   <li class="copy_doc"><span id="menu_button4_2">Copy Document</span>    <ul>     <li><span id="menu_button4_2_1">Copy & Save Document</span></li>    </ul>   </li>   <li class="copy_doc"><span id="menu_button4_3">Copy Line</span>    <ul>     <li><span id="menu_button4_3_1">Copy First Line</span></li>    </ul>   </li>  </ul> </li> <li class="end_li_type copy_line"><span id="menu_button5">Select All Line</span>  <ul>   <li><span id="menu_button5_1">Un Select All</span></li>  </ul> </li> <li id="menu_button6" class="preference">Preferences</li> <li id="menu_button7" class="help help">Help</li> <li id="menu_button8"  data-target="#document_history" data-toggle="modal"  class="doc_history">Document History</li> <li id="menu_button9" class="end_li_type custom_code">Custom Code  <ul>   <li id="menu_button9_1" class="end_li_type">Disable</li>   <li id="menu_button9_2" class="end_li_type">Enable</li>   <li id="menu_button9_3" class="end_li_type">View & Update</li>  </ul></li> <li class="end_li_type disable_menu"><span id="menu_button10">Disable Context Menu</span>  <ul>   <li><span id="menu_button10_1">Disable All</span></li>  </ul></li> <li id="menu_button11" class="about">About inoERP</li> </ul>';rightClickMenu(u),$("body").on("click","#menu_button1",function(){var t=new exportToExcelMain;t.containerType="div",t.divId=l,t.exportToExcel()}),$("body").on("click","#menu_button2",function(){var t=new exportToExcelMain;t.containerType="table",t.divId=r,t.numberOfTabs=1,t.exportToExcel()}),$("body").on("click","#menu_button3",function(){window.print()}),$("body").on("click","#menu_button4",function(){f.beforeCopyActions(),copy_header(t),f.afterCopyActions()}),$("body").on("click","#menu_button4_1",function(){f.beforeCopyActions(),copy_header(t),f.afterCopyActions(),$("#save").trigger("click")}),$("body").on("click","#menu_button4_2",function(){f.beforeCopyActions(),copy_document(t,e,n),f.afterCopyActions()}),$("body").on("click","#menu_button4_2_1",function(){copy_document(t,e,n),$("#save").trigger("click")}),$("body").on("click","#menu_button4_3",function(){var t=new add_new_rowMain;t.trClass=a,t.tbodyClass=o,t.noOfTabs=s,t.removeDefault=!1,t.divClassNotToBeCopied=i,t.add_new_row()}),$("body").on("click","#menu_button4_3_1",function(){var t=new add_new_rowMain;t.trClass=a,t.tbodyClass=o,t.noOfTabs=s,t.copyFirstLine=!0,t.removeDefault=!1,t.divClassNotToBeCopied=i,t.add_new_row()}),$("body").on("click","#menu_button5",function(){$("#form_line").find('input[name="line_id_cb"]').prop("checked",!0)}),$("body").on("click","#menu_button5_1",function(){$("#form_line").find('input[name="line_id_cb"]').prop("checked",!1)}),$("body").off("click","#menu_button7").on("click","#menu_button11",function(){void window.open("http://www.inoideas.org/help","_blank")}),$("body").off("click","#menu_button10").on("click","#menu_button10",function(){$("#content").unbind("contextmenu")}),$("body").off("click","#menu_button11").on("click","#menu_button11",function(){void window.open("http://www.inoideas.org","_blank")}),$("body").on("click","#menu_button10_1",function(){localStorage.setItem("disableContextMenu",!0),$("#content").unbind("contextmenu")})},autoCompleteMain.prototype.autoComplete=function(){var t=this.json_url,e=this.field_name,i=this.primary_column1,n=this.primary_column2,a=this.extra_elements,o=this.options;if("undefined"===this.select_class)var s="select"+e;else var s=this.select_class;var l="."+s,r=this.min_length;$("#content").on("focus.nsAutoComplete",l,function(s){if(s.preventDefault(),!$(this).data("autocomplete")){var l=this,d="#"+i;if($(d).val())var c=$(d).val();else if($(l).closest("tr").attr("class"))var f="."+$(l).closest("tr").attr("class").replace(/\s+/g,"."),u="."+i,c=$("#form_line").find(f).find(u).val();$(this).autocomplete({source:function(i,a){$.ajax({url:t,dataType:"json",data:{action:"search",field_name:e,primary_column1:c,primary_column2:n,term:i.term,options:o},success:function(t){a(t)},error:function(t,e,i){alert("Error : "+e+" with message "+i),$(this).autocomplete("close")}})},autoFocus:!0,response:function(t,e){if(1===e.content.length){if($(this).val(e.content[0].label),"undefined"!=typeof a&&a.length>0){var i=$(this).parent().prop("tagName");$(a).each(function(t,n){var a="",o="."+n;for(key in e.content[0])key==n&&(a=e.content[0][key]);if("LI"===i)$(l).closest("ul").find(o).val(a),o.indexOf("_cb")>-1&&1==a&&$(l).closest("ul").find(o).prop("checked",!0);else if("TD"===i){$(l).closest("tr").find(o).val(a);var s="."+$(l).closest("tr").attr("class").replace(/\s+/g,".");$("#form_line, #form_line2").find(s).find(o).val(a),o.indexOf("_cb")>-1&&1==a&&$("#form_line, #form_line2").find(s).find(o).prop("checked",!0)}})}$(this).autocomplete("close")}else if(0===e.content.length){if(alert("No Data Found"),$(this).attr("value",""),"undefined"!=typeof a&&a.length>0){var i=$(this).parent().prop("tagName");$(a).each(function(t,e){var n="."+e;if("LI"===i)$(l).closest("ul").find(n).val("");else if("TD"===i){$(l).closest("tr").find(n).val("");var a="."+$(l).closest("tr").attr("class").replace(/\s+/g,".");$("#form_line, #form_line2").find(a).find(n).val(),n.indexOf("_cb")>-1&&$("#form_line, #form_line2").find(a).find(n).prop("checked",!1)}})}$(this).autocomplete("close")}},select:function(t,e){if($(this).val(e.item.label),"undefined"!=typeof a&&a.length>0){var i=$(this).parent().prop("tagName");$(a).each(function(t,n){var a="",o="."+n;if($.each(e,function(t,e){for(t in e)t==n&&(a=e[t])}),"LI"===i)$(l).closest("ul").find(o).val(a),o.indexOf("_cb")>-1&&1==a&&$(l).closest("ul").find(o).prop("checked",!0);else if("TD"===i){var s="."+$(l).closest("tr").attr("class").replace(/\s+/g,".");$("#form_line, #form_line2").find(s).find(o).val(a),o.indexOf("_cb")>-1&&1==a&&$("#form_line, #form_line2").find(s).find(o).prop("checked",!0)}})}$(this).autocomplete("close")},minLength:r})}})},fileUploadMain.prototype.fileUpload=function(){var t=this.json_url,e=this.module_name,i=this.class_name,n=this.document_type,a=this.upload_type,o=this.directory,s=this.display_type;$("body").on("click","#attach_submit, #comment_attach_submit, .upload_file",function(l){l.preventDefault();var r=$(this),d="#"+$(this).prop("id");return $(".show_loading_small").show(),formData=new FormData,$(this).hasClass("upload_file")?jQuery.each($(this).closest("ul").find("input")[0].files,function(t,e){formData.append("attachments-"+t,e),s=$(r).closest(".show_attachment").find(".display_type").val()}):$(this).hasClass("comment_attach_submit")?jQuery.each($("#comment_attachments")[0].files,function(t,e){formData.append("attachments-"+t,e)}):jQuery.each($("#attachments")[0].files,function(t,e){formData.append("attachments-"+t,e)}),$("#upload_type").val()&&(a=$("#upload_type").val(),i=$(".class_name").val()),null!==e&&formData.append("module_name",e),null!==i&&formData.append("class_name",i),null!==n&&formData.append("document_type",n),null!==a&&formData.append("upload_type",a),null!==n&&formData.append("directory",o),null!==s&&formData.append("display_type",s),$.ajax({url:t,data:formData,processData:!1,contentType:!1,type:"post"}).done(function(t){var e=($(t).filter("div#uploaded_files").html(),"");if($(t).find(".rollback_msg").each(function(){e+=$(this).html()}),$(t).find(".message").each(function(){e+=$(this).html()}),$(d).closest("#file_upload_form").find(".uploaded_file_details").append(t),e&&$("#uploaded_file_details").append(e),r.hasClass("upload_file")){var i=+$(t).find(".file_id_values").val().trim();$(r).closest(".show_attachment").find(".uploaded_file_details").append(t),$(r).closest(".show_attachment").find(".file_id").val(i)}$(".show_loading_small").hide(),alert("Upload Completed\nCheck output/errors section for details")}).fail(function(t,e,i){alert("save failed \n"+t+e+i),$(".show_loading_small").hide()})})},mandatoryFieldMain.prototype.mandatoryHeader=function(){$("body").off("click","#form_line, #form_line2").on("click","#form_line, #form_line2",function(){var t=$("ul#js_saving_data").find(".primary_column_id").data("primary_column_id"),e=$("ul#js_saving_data").find(".no_headerid_check").data("no_headerid_check"),i=$("ul#js_saving_data").find(".lineClassName").data("lineclassname");if(9!=e&&i&&"undefined"!=i&&t){var n="#"+t,a="."+t;if($(n).val()){var o=$(n).val();$(this).find(a).val()||$(this).find(a).val(o)}else"SAVE_HEADER"==move_line_wo_header?$("#save").trigger("click"):"SHOW_WARNING"==move_line_wo_header&&confirm("Header data is not saved : Do you want to save the header")&&$("#save").trigger("click")}})},mandatoryFieldMain.prototype.mandatoryField=function(){return!0};